2022-09-04 08:10:34.630 -05:00 [INF] Application is shutting down...
2022-09-04 08:10:34.632 -05:00 [DBG] Hosting stopping
2022-09-04 08:10:34.648 -05:00 [DBG] Hosting stopped
2022-09-04 08:10:40.057 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 08:10:40.162 -05:00 [DBG] Hosting starting
2022-09-04 08:10:40.244 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 08:10:40.258 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 08:10:40.258 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 08:10:40.258 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 08:10:40.259 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 08:10:40.259 -05:00 [INF] Hosting environment: Development
2022-09-04 08:10:40.259 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 08:10:40.259 -05:00 [DBG] Hosting started
2022-09-04 08:10:46.428 -05:00 [DBG] Connection id "0HMKEERGLG8PP" received FIN.
2022-09-04 08:10:46.435 -05:00 [DBG] Connection id "0HMKEERGLG8PP" accepted.
2022-09-04 08:10:46.435 -05:00 [DBG] Connection id "0HMKEERGLG8PP" started.
2022-09-04 08:10:46.437 -05:00 [DBG] Connection id "0HMKEERGLG8PQ" accepted.
2022-09-04 08:10:46.437 -05:00 [DBG] Connection id "0HMKEERGLG8PQ" started.
2022-09-04 08:10:46.446 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 08:10:46.462 -05:00 [DBG] Connection id "0HMKEERGLG8PP" stopped.
2022-09-04 08:10:46.463 -05:00 [DBG] Connection id "0HMKEERGLG8PP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:10:46.479 -05:00 [DBG] Connection 0HMKEERGLG8PQ established using the following protocol: "Tls12"
2022-09-04 08:10:46.509 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 08:10:46.510 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 08:10:46.531 -05:00 [DBG] POST requests are not supported
2022-09-04 08:10:46.561 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:10:46.564 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:10:46.565 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:10:46.565 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:10:46.589 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CreatePointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:10:46.590 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:10:46.590 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:10:46.590 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:10:46.591 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:10:46.591 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:10:46.591 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:10:46.735 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 08:10:46.932 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:10:46.935 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:10:46.936 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:10:46.937 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:10:46.937 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:10:46.937 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:10:46.937 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:10:46.940 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:10:46.940 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 08:10:46.941 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 08:10:46.941 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 08:10:46.946 -05:00 [DBG] Connection id "0HMKEERGLG8PQ", Request id "0HMKEERGLG8PQ:00000002": started reading request body.
2022-09-04 08:10:46.946 -05:00 [DBG] Connection id "0HMKEERGLG8PQ", Request id "0HMKEERGLG8PQ:00000002": done reading request body.
2022-09-04 08:10:47.065 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:10:47.065 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:10:47.065 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:10:47.070 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:10:48.120 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:10:48.174 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 08:10:48.381 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:10:48.436 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:10:48.488 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (48ms).
2022-09-04 08:10:48.502 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:10:48.528 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:10:48.543 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:10:48.577 -05:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:10:48.590 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:10:48.595 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:10:48.599 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:10:48.613 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 08:10:48.653 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:10:48.662 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:10:48.662 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:10:48.663 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:10:48.663 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:10:48.663 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:10:48.663 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:10:48.687 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:10:48.711 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:10:48.711 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:10:48.711 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:10:48.715 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 08:10:48.719 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 08:10:48.743 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:10:48.776 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:10:48.811 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:10:48.814 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 08:10:48.833 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:10:48.833 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:10:48.835 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 08:10:48.840 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 08:10:48.908 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:10:48.908 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:10:48.909 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:10:48.912 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:10:48.935 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 08:10:48.942 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:10:48.945 -05:00 [DBG] Committing transaction.
2022-09-04 08:10:48.948 -05:00 [DBG] Committed transaction.
2022-09-04 08:10:48.951 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:10:48.951 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:10:48.953 -05:00 [DBG] Disposing transaction.
2022-09-04 08:10:48.964 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:10:48.965 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 08:10:48.969 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:10:48.971 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:10:48.971 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:10:48.971 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:10:48.971 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:10:48.972 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 08:10:48.989 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 08:10:48.998 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/9 and 
2022-09-04 08:10:48.998 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/9
2022-09-04 08:10:49.076 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2480.6288ms
2022-09-04 08:10:49.077 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:10:49.078 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 08:10:49.086 -05:00 [DBG] Connection id "0HMKEERGLG8PQ" completed keep alive response.
2022-09-04 08:10:49.090 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:10:49.093 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2586.5334ms
2022-09-04 08:12:59.258 -05:00 [DBG] Connection id "0HMKEERGLG8PQ" disconnecting.
2022-09-04 08:12:59.260 -05:00 [DBG] Connection id "0HMKEERGLG8PQ" stopped.
2022-09-04 08:12:59.261 -05:00 [DBG] Connection id "0HMKEERGLG8PQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:13:01.994 -05:00 [INF] Application is shutting down...
2022-09-04 08:13:01.995 -05:00 [DBG] Hosting stopping
2022-09-04 08:13:02.003 -05:00 [DBG] Hosting stopped
2022-09-04 08:13:05.507 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 08:13:05.616 -05:00 [DBG] Hosting starting
2022-09-04 08:13:05.699 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 08:13:05.712 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 08:13:05.712 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 08:13:05.713 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 08:13:05.713 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 08:13:05.713 -05:00 [INF] Hosting environment: Development
2022-09-04 08:13:05.713 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 08:13:05.713 -05:00 [DBG] Hosting started
2022-09-04 08:13:12.716 -05:00 [DBG] Connection id "0HMKEESS8K0QD" received FIN.
2022-09-04 08:13:12.724 -05:00 [DBG] Connection id "0HMKEESS8K0QD" accepted.
2022-09-04 08:13:12.725 -05:00 [DBG] Connection id "0HMKEESS8K0QD" started.
2022-09-04 08:13:12.727 -05:00 [DBG] Connection id "0HMKEESS8K0QE" accepted.
2022-09-04 08:13:12.728 -05:00 [DBG] Connection id "0HMKEESS8K0QE" started.
2022-09-04 08:13:12.739 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 08:13:12.757 -05:00 [DBG] Connection id "0HMKEESS8K0QD" stopped.
2022-09-04 08:13:12.760 -05:00 [DBG] Connection id "0HMKEESS8K0QD" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:13:12.778 -05:00 [DBG] Connection 0HMKEESS8K0QE established using the following protocol: "Tls12"
2022-09-04 08:13:12.811 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 08:13:12.812 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 08:13:12.834 -05:00 [DBG] POST requests are not supported
2022-09-04 08:13:12.862 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:13:12.867 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:13:12.867 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:13:12.868 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:13:12.899 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:13:12.899 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:13:12.900 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:13:12.900 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:13:12.900 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:13:12.900 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:13:12.900 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:13:13.046 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 08:13:13.258 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:13:13.260 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:13:13.262 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:13:13.263 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:13:13.263 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:13:13.263 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:13:13.264 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:13:13.266 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:13:13.267 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 08:13:13.268 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 08:13:13.268 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 08:13:13.273 -05:00 [DBG] Connection id "0HMKEESS8K0QE", Request id "0HMKEESS8K0QE:00000002": started reading request body.
2022-09-04 08:13:13.273 -05:00 [DBG] Connection id "0HMKEESS8K0QE", Request id "0HMKEESS8K0QE:00000002": done reading request body.
2022-09-04 08:13:13.407 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:13:13.407 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:13:13.407 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:13:13.414 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:13:14.484 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:13:14.542 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 08:13:14.751 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:13:14.810 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:13:14.860 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (45ms).
2022-09-04 08:13:14.873 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:13:14.897 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:13:14.911 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:13:14.942 -05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:13:14.953 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:13:14.958 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:13:14.963 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:13:14.978 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 08:13:15.020 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:13:15.029 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:13:15.029 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:13:15.029 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:13:15.029 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:13:15.030 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:13:15.030 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:13:15.053 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:13:15.079 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:13:15.079 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:13:15.079 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:13:15.084 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 08:13:15.088 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 08:13:15.114 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:13:15.148 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:13:15.185 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:13:15.188 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 08:13:15.208 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:13:15.208 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:13:15.210 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 08:13:15.216 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 08:13:15.282 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:13:15.282 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:13:15.283 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:13:15.286 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:13:15.309 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 08:13:15.316 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:13:15.320 -05:00 [DBG] Committing transaction.
2022-09-04 08:13:15.322 -05:00 [DBG] Committed transaction.
2022-09-04 08:13:15.325 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:13:15.326 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:13:15.328 -05:00 [DBG] Disposing transaction.
2022-09-04 08:13:15.340 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:13:15.342 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 08:13:15.347 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:13:15.349 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:13:15.349 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:13:15.349 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:13:15.350 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:13:15.350 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 08:13:15.368 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 08:13:15.377 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/10 and 
2022-09-04 08:13:15.377 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/10
2022-09-04 08:13:15.461 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2554.4103ms
2022-09-04 08:13:15.462 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:13:15.463 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 08:13:15.474 -05:00 [DBG] Connection id "0HMKEESS8K0QE" completed keep alive response.
2022-09-04 08:13:15.477 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:13:15.480 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2671.4117ms
2022-09-04 08:15:25.721 -05:00 [DBG] Connection id "0HMKEESS8K0QE" disconnecting.
2022-09-04 08:15:25.723 -05:00 [DBG] Connection id "0HMKEESS8K0QE" stopped.
2022-09-04 08:15:25.723 -05:00 [DBG] Connection id "0HMKEESS8K0QE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:20:49.381 -05:00 [INF] Application is shutting down...
2022-09-04 08:20:49.382 -05:00 [DBG] Hosting stopping
2022-09-04 08:20:49.388 -05:00 [DBG] Hosting stopped
2022-09-04 08:20:51.155 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 08:20:51.250 -05:00 [DBG] Hosting starting
2022-09-04 08:20:51.329 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 08:20:51.344 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 08:20:51.345 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 08:20:51.345 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 08:20:51.345 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 08:20:51.345 -05:00 [INF] Hosting environment: Development
2022-09-04 08:20:51.345 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 08:20:51.345 -05:00 [DBG] Hosting started
2022-09-04 08:21:10.149 -05:00 [DBG] Connection id "0HMKEF1AHOP0P" received FIN.
2022-09-04 08:21:10.155 -05:00 [DBG] Connection id "0HMKEF1AHOP0P" accepted.
2022-09-04 08:21:10.156 -05:00 [DBG] Connection id "0HMKEF1AHOP0P" started.
2022-09-04 08:21:10.158 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q" accepted.
2022-09-04 08:21:10.158 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q" started.
2022-09-04 08:21:10.166 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 08:21:10.181 -05:00 [DBG] Connection id "0HMKEF1AHOP0P" stopped.
2022-09-04 08:21:10.183 -05:00 [DBG] Connection id "0HMKEF1AHOP0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:21:10.197 -05:00 [DBG] Connection 0HMKEF1AHOP0Q established using the following protocol: "Tls12"
2022-09-04 08:21:10.228 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 08:21:10.229 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 08:21:10.250 -05:00 [DBG] POST requests are not supported
2022-09-04 08:21:10.277 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:21:10.280 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:21:10.281 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:21:10.281 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:21:10.305 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:21:10.306 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:21:10.306 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:21:10.306 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:21:10.306 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:21:10.306 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:21:10.307 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:21:10.455 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 08:21:10.665 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:21:10.668 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:21:10.669 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:21:10.670 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:21:10.670 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:21:10.670 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:21:10.671 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:21:10.673 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:21:10.673 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 08:21:10.674 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 08:21:10.674 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 08:21:10.679 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q", Request id "0HMKEF1AHOP0Q:00000002": started reading request body.
2022-09-04 08:21:10.679 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q", Request id "0HMKEF1AHOP0Q:00000002": done reading request body.
2022-09-04 08:21:10.804 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:21:10.804 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:21:10.804 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:21:10.809 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:21:11.863 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:21:11.913 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 08:21:12.122 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:21:12.180 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:21:12.231 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2022-09-04 08:21:12.243 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:21:12.270 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:21:12.287 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:21:12.323 -05:00 [INF] Executed DbCommand (43ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:21:12.336 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:21:12.340 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:21:12.346 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:21:12.361 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 08:21:12.400 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:21:12.409 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:21:12.409 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:21:12.409 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:21:12.409 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:21:12.410 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:21:12.410 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:21:12.433 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:21:12.457 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:21:12.458 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:21:12.458 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:21:12.462 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 08:21:12.467 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 08:21:12.491 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:21:12.523 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:21:12.557 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:21:12.560 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 08:21:12.578 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:21:12.578 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:21:12.580 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 08:21:12.586 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 08:21:12.652 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:21:12.652 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:21:12.653 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:21:12.658 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:21:12.680 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 08:21:12.687 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:21:12.690 -05:00 [DBG] Committing transaction.
2022-09-04 08:21:12.692 -05:00 [DBG] Committed transaction.
2022-09-04 08:21:12.695 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:21:12.696 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:21:12.698 -05:00 [DBG] Disposing transaction.
2022-09-04 08:21:12.709 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:21:12.710 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 08:21:12.714 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:21:12.716 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:21:12.717 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:21:12.717 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:21:12.717 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:21:12.717 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 08:21:12.735 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 08:21:12.743 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/11 and 
2022-09-04 08:21:12.744 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/11
2022-09-04 08:21:12.825 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2513.8102ms
2022-09-04 08:21:12.827 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:21:12.827 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 08:21:12.837 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q" completed keep alive response.
2022-09-04 08:21:12.840 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:21:12.843 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2619.7297ms
2022-09-04 08:23:23.313 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q" disconnecting.
2022-09-04 08:23:23.317 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q" stopped.
2022-09-04 08:23:23.318 -05:00 [DBG] Connection id "0HMKEF1AHOP0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:32:46.602 -05:00 [INF] Application is shutting down...
2022-09-04 08:32:46.603 -05:00 [DBG] Hosting stopping
2022-09-04 08:32:46.612 -05:00 [DBG] Hosting stopped
2022-09-04 08:32:48.425 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 08:32:48.524 -05:00 [DBG] Hosting starting
2022-09-04 08:32:48.600 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 08:32:48.617 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 08:32:48.617 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 08:32:48.617 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 08:32:48.617 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 08:32:48.617 -05:00 [INF] Hosting environment: Development
2022-09-04 08:32:48.617 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 08:32:48.617 -05:00 [DBG] Hosting started
2022-09-04 08:32:52.856 -05:00 [DBG] Connection id "0HMKEF7RV9U9P" received FIN.
2022-09-04 08:32:52.863 -05:00 [DBG] Connection id "0HMKEF7RV9U9P" accepted.
2022-09-04 08:32:52.863 -05:00 [DBG] Connection id "0HMKEF7RV9U9P" started.
2022-09-04 08:32:52.865 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q" accepted.
2022-09-04 08:32:52.865 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q" started.
2022-09-04 08:32:52.874 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 08:32:52.889 -05:00 [DBG] Connection id "0HMKEF7RV9U9P" stopped.
2022-09-04 08:32:52.891 -05:00 [DBG] Connection id "0HMKEF7RV9U9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:32:52.907 -05:00 [DBG] Connection 0HMKEF7RV9U9Q established using the following protocol: "Tls12"
2022-09-04 08:32:52.938 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 08:32:52.939 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 08:32:52.961 -05:00 [DBG] POST requests are not supported
2022-09-04 08:32:52.991 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:32:52.994 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:32:52.995 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:32:52.996 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:32:53.021 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:32:53.022 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:32:53.022 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:32:53.023 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:32:53.023 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:32:53.023 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:32:53.023 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:32:53.170 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 08:32:53.383 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:32:53.386 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:32:53.387 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:32:53.388 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:32:53.388 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:32:53.388 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:32:53.389 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:32:53.390 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:32:53.391 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 08:32:53.392 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 08:32:53.392 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 08:32:53.397 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q", Request id "0HMKEF7RV9U9Q:00000002": started reading request body.
2022-09-04 08:32:53.398 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q", Request id "0HMKEF7RV9U9Q:00000002": done reading request body.
2022-09-04 08:32:53.518 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:32:53.518 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:32:53.518 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:32:53.525 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:32:54.586 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:32:54.644 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 08:32:54.867 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:32:54.936 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:32:54.985 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2022-09-04 08:32:54.997 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:32:55.022 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:32:55.038 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:32:55.067 -05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:32:55.080 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:32:55.085 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:32:55.090 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:32:55.107 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 08:32:55.149 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:32:55.158 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:32:55.158 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:32:55.159 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:32:55.159 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:32:55.159 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:32:55.159 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:32:55.184 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:32:55.212 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:32:55.212 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:32:55.212 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:32:55.216 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 08:32:55.221 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 08:32:55.247 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:32:55.282 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:32:55.316 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:32:55.320 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 08:32:55.340 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:32:55.341 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:32:55.343 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 08:32:55.349 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 08:32:55.413 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:32:55.413 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:32:55.414 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:32:55.417 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:32:55.439 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 08:32:55.446 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:32:55.449 -05:00 [DBG] Committing transaction.
2022-09-04 08:32:55.452 -05:00 [DBG] Committed transaction.
2022-09-04 08:32:55.455 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:32:55.455 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:32:55.459 -05:00 [DBG] Disposing transaction.
2022-09-04 08:32:55.470 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:32:55.472 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 08:32:55.478 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:32:55.480 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:32:55.480 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:32:55.481 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:32:55.481 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:32:55.482 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 08:32:55.500 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 08:32:55.510 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/12 and 
2022-09-04 08:32:55.510 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/12
2022-09-04 08:32:55.591 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2562.5344ms
2022-09-04 08:32:55.592 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:32:55.592 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 08:32:55.601 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q" completed keep alive response.
2022-09-04 08:32:55.604 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:32:55.608 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2672.7112ms
2022-09-04 08:32:58.886 -05:00 [INF] Application is shutting down...
2022-09-04 08:32:58.887 -05:00 [DBG] Hosting stopping
2022-09-04 08:32:58.903 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q" disconnecting.
2022-09-04 08:32:58.905 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q" stopped.
2022-09-04 08:32:58.905 -05:00 [DBG] Connection id "0HMKEF7RV9U9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:32:58.910 -05:00 [DBG] Hosting stopped
2022-09-04 08:33:04.788 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 08:33:04.873 -05:00 [DBG] Hosting starting
2022-09-04 08:33:05.016 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 08:33:05.109 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 08:33:05.109 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 08:33:05.109 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 08:33:05.110 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 08:33:05.110 -05:00 [INF] Hosting environment: Development
2022-09-04 08:33:05.110 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 08:33:05.110 -05:00 [DBG] Hosting started
2022-09-04 08:33:09.917 -05:00 [DBG] Connection id "0HMKEF8120J0B" received FIN.
2022-09-04 08:33:09.924 -05:00 [DBG] Connection id "0HMKEF8120J0B" accepted.
2022-09-04 08:33:09.924 -05:00 [DBG] Connection id "0HMKEF8120J0B" started.
2022-09-04 08:33:09.926 -05:00 [DBG] Connection id "0HMKEF8120J0C" accepted.
2022-09-04 08:33:09.926 -05:00 [DBG] Connection id "0HMKEF8120J0C" started.
2022-09-04 08:33:09.934 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 08:33:09.968 -05:00 [DBG] Connection id "0HMKEF8120J0B" stopped.
2022-09-04 08:33:09.969 -05:00 [DBG] Connection id "0HMKEF8120J0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:33:09.973 -05:00 [DBG] Connection 0HMKEF8120J0C established using the following protocol: "Tls12"
2022-09-04 08:33:09.995 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 08:33:09.996 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 08:33:10.010 -05:00 [DBG] POST requests are not supported
2022-09-04 08:33:10.031 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:33:10.033 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:33:10.033 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:33:10.034 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 08:33:10.051 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:33:10.052 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:33:10.052 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:33:10.052 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:33:10.053 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:33:10.053 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:33:10.053 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:33:10.180 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 08:33:10.321 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:33:10.323 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:33:10.324 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:33:10.324 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:33:10.325 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:33:10.325 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:33:10.326 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:33:10.327 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:33:10.327 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 08:33:10.328 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 08:33:10.328 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 08:33:10.332 -05:00 [DBG] Connection id "0HMKEF8120J0C", Request id "0HMKEF8120J0C:00000002": started reading request body.
2022-09-04 08:33:10.332 -05:00 [DBG] Connection id "0HMKEF8120J0C", Request id "0HMKEF8120J0C:00000002": done reading request body.
2022-09-04 08:33:10.417 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:33:10.417 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:33:10.417 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 08:33:10.422 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 08:33:10.952 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:33:10.980 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 08:33:11.110 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:33:11.160 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:33:11.243 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (80ms).
2022-09-04 08:33:11.251 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:33:11.264 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:33:11.273 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:33:11.289 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:33:11.296 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:33:11.299 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:33:11.301 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:33:11.311 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 08:33:11.332 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:33:11.337 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:33:11.337 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:33:11.337 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:33:11.338 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:33:11.338 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:33:11.338 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 08:33:11.349 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:33:11.361 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:33:11.361 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:33:11.361 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:33:11.364 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 08:33:11.366 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 08:33:11.381 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:33:11.397 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:33:11.416 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:33:11.418 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 08:33:11.427 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:33:11.427 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:33:11.428 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 08:33:11.431 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 08:33:11.463 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:33:11.463 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:33:11.464 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:33:11.466 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 08:33:11.477 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 08:33:11.480 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:33:11.483 -05:00 [DBG] Committing transaction.
2022-09-04 08:33:11.484 -05:00 [DBG] Committed transaction.
2022-09-04 08:33:11.486 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:33:11.486 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:33:11.488 -05:00 [DBG] Disposing transaction.
2022-09-04 08:33:11.495 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:33:11.496 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 08:34:58.052 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 08:34:58.158 -05:00 [DBG] Hosting starting
2022-09-04 08:34:58.239 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 08:34:58.254 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 08:34:58.254 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 08:34:58.255 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 08:34:58.255 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 08:34:58.255 -05:00 [INF] Hosting environment: Development
2022-09-04 08:34:58.255 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 08:34:58.266 -05:00 [DBG] Hosting started
2022-09-04 08:35:12.681 -05:00 [DBG] Connection id "0HMKEF95KP9IP" received FIN.
2022-09-04 08:35:12.688 -05:00 [DBG] Connection id "0HMKEF95KP9IP" accepted.
2022-09-04 08:35:12.689 -05:00 [DBG] Connection id "0HMKEF95KP9IP" started.
2022-09-04 08:35:12.691 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" accepted.
2022-09-04 08:35:12.691 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" started.
2022-09-04 08:35:12.699 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 08:35:12.713 -05:00 [DBG] Connection id "0HMKEF95KP9IP" stopped.
2022-09-04 08:35:12.716 -05:00 [DBG] Connection id "0HMKEF95KP9IP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 08:35:12.732 -05:00 [DBG] Connection 0HMKEF95KP9IQ established using the following protocol: "Tls12"
2022-09-04 08:35:12.763 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/2/pointsofinterest - -
2022-09-04 08:35:12.764 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 08:35:12.808 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 08:35:12.835 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest'
2022-09-04 08:35:12.839 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest'
2022-09-04 08:35:12.839 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:12.840 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:12.864 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:35:12.865 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:35:12.865 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:35:12.865 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:35:12.865 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:35:12.865 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:35:12.866 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:35:13.004 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 08:35:13.210 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:35:13.214 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:35:13.215 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:35:13.216 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:13.216 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:13.216 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:35:13.217 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:14.278 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:35:14.328 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 08:35:14.530 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 08:35:14.582 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:35:14.624 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2022-09-04 08:35:14.636 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:14.657 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:14.672 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:35:14.698 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:35:14.711 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:35:14.716 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:14.721 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:14.728 -05:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2022-09-04 08:35:14.763 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-09-04 08:35:14.770 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:35:14.770 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:35:14.770 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:14.770 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:14.770 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 08:35:14.771 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 08:35:14.793 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:14.822 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:14.822 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:35:14.823 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:14.823 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:14.843 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:35:14.846 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:35:14.846 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:35:14.846 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:35:14.846 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:35:14.847 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 08:35:15.001 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 2129.9558ms
2022-09-04 08:35:15.002 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:15.002 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" completed keep alive response.
2022-09-04 08:35:15.004 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:35:15.007 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/2/pointsofinterest - - - 200 127 application/json;+charset=utf-8 2246.1470ms
2022-09-04 08:35:24.324 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest - -
2022-09-04 08:35:24.325 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 08:35:24.326 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-09-04 08:35:24.326 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-09-04 08:35:24.326 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:24.326 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:24.327 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:35:24.327 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:35:24.327 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:35:24.327 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:35:24.327 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:35:24.327 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:35:24.327 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:35:24.328 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:35:24.328 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:35:24.329 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:35:24.329 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:24.329 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:24.329 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:35:24.329 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:24.332 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:35:24.336 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:35:24.337 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:35:24.337 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:24.337 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:24.337 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:35:24.337 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:35:24.337 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:35:24.337 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:24.337 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:24.338 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:35:24.338 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:35:24.338 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:24.338 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:24.338 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 08:35:24.338 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 08:35:24.339 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:24.339 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:24.339 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:35:24.339 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:24.339 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:24.340 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:35:24.340 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:35:24.340 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:35:24.340 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:35:24.340 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:35:24.340 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 08:35:24.341 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 13.2386ms
2022-09-04 08:35:24.341 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:24.341 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" completed keep alive response.
2022-09-04 08:35:24.341 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:35:24.341 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest - - - 200 135 application/json;+charset=utf-8 16.5836ms
2022-09-04 08:35:29.980 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/3/pointsofinterest - -
2022-09-04 08:35:29.980 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 08:35:29.980 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:35:29.981 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 08:35:29.981 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:29.981 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:29.981 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 08:35:29.981 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 08:35:29.981 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 08:35:29.981 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 08:35:29.981 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 08:35:29.981 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 08:35:29.981 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:35:29.984 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 08:35:29.984 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:35:29.984 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 08:35:29.984 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:29.984 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:29.984 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 08:35:29.984 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 08:35:30.035 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 08:35:30.036 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:35:30.036 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:35:30.036 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:30.036 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:30.036 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:35:30.036 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 08:35:30.037 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:35:30.037 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:30.037 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:30.037 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 08:35:30.037 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 08:35:30.037 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:30.037 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:30.037 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 08:35:30.037 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 08:35:30.037 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.037 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.037 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 08:35:30.038 -05:00 [DBG] A data reader was disposed.
2022-09-04 08:35:30.038 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 08:35:30.038 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 08:35:30.038 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 08:35:30.038 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 08:35:30.038 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 08:35:30.038 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 08:35:30.038 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 08:35:30.039 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 08:35:30.040 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 58.3258ms
2022-09-04 08:35:30.040 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 08:35:30.040 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" completed keep alive response.
2022-09-04 08:35:30.040 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 08:35:30.040 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/3/pointsofinterest - - - 200 910 application/json;+charset=utf-8 60.5405ms
2022-09-04 08:37:40.280 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" disconnecting.
2022-09-04 08:37:40.282 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" stopped.
2022-09-04 08:37:40.282 -05:00 [DBG] Connection id "0HMKEF95KP9IQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:12:56.637 -05:00 [INF] Application is shutting down...
2022-09-04 17:12:56.640 -05:00 [DBG] Hosting stopping
2022-09-04 17:12:56.654 -05:00 [DBG] Hosting stopped
2022-09-04 17:13:02.228 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:13:02.335 -05:00 [DBG] Hosting starting
2022-09-04 17:13:02.414 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:13:02.428 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:13:02.428 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:13:02.428 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:13:02.428 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:13:02.429 -05:00 [INF] Hosting environment: Development
2022-09-04 17:13:02.429 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:13:02.429 -05:00 [DBG] Hosting started
2022-09-04 17:13:09.629 -05:00 [DBG] Connection id "0HMKEOAJ9L4NJ" received FIN.
2022-09-04 17:13:09.636 -05:00 [DBG] Connection id "0HMKEOAJ9L4NJ" accepted.
2022-09-04 17:13:09.637 -05:00 [DBG] Connection id "0HMKEOAJ9L4NJ" started.
2022-09-04 17:13:09.638 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK" accepted.
2022-09-04 17:13:09.639 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK" started.
2022-09-04 17:13:09.647 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:13:09.662 -05:00 [DBG] Connection id "0HMKEOAJ9L4NJ" stopped.
2022-09-04 17:13:09.664 -05:00 [DBG] Connection id "0HMKEOAJ9L4NJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:13:09.680 -05:00 [DBG] Connection 0HMKEOAJ9L4NK established using the following protocol: "Tls12"
2022-09-04 17:13:09.712 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:13:09.713 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:13:09.737 -05:00 [DBG] POST requests are not supported
2022-09-04 17:13:09.767 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:13:09.770 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:13:09.771 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:13:09.772 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:13:09.798 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:13:09.799 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:13:09.799 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:13:09.799 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:13:09.799 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:13:09.799 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:13:09.800 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:13:09.958 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:13:10.181 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:13:10.184 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:13:10.186 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:13:10.186 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:13:10.186 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:13:10.186 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:13:10.187 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:13:10.189 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:13:10.190 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:13:10.191 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:13:10.191 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:13:10.196 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK", Request id "0HMKEOAJ9L4NK:00000002": started reading request body.
2022-09-04 17:13:10.196 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK", Request id "0HMKEOAJ9L4NK:00000002": done reading request body.
2022-09-04 17:13:10.320 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:13:10.320 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:13:10.320 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:13:10.325 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:13:11.421 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:13:11.485 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:13:11.714 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:13:11.776 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:13:11.833 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (52ms).
2022-09-04 17:13:11.846 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:11.873 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:11.889 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:13:11.920 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:13:11.933 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:13:11.942 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:11.950 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:11.965 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:13:12.010 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:13:12.019 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:13:12.019 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:13:12.019 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:12.020 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:12.020 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:13:12.020 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:13:12.043 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:13:12.069 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:13:12.069 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:12.069 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:12.073 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:13:12.078 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:13:12.102 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:13:12.137 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:13:12.172 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:13:12.176 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:13:12.200 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:12.200 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:12.202 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:13:12.209 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:13:12.281 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:13:12.281 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:13:12.282 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:13:12.285 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:13:12.310 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:13:12.317 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:13:12.321 -05:00 [DBG] Committing transaction.
2022-09-04 17:13:12.324 -05:00 [DBG] Committed transaction.
2022-09-04 17:13:12.327 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:12.327 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:12.330 -05:00 [DBG] Disposing transaction.
2022-09-04 17:13:12.342 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:13:12.343 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:13:12.348 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:13:12.351 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:13:12.351 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:13:12.351 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:13:12.352 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:13:12.352 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:13:12.372 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:13:12.381 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/14 and 
2022-09-04 17:13:12.382 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/14
2022-09-04 17:13:12.468 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2663.2698ms
2022-09-04 17:13:12.469 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:13:12.470 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 17:13:12.483 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK" completed keep alive response.
2022-09-04 17:13:12.486 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:13:12.489 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2780.7326ms
2022-09-04 17:13:26.847 -05:00 [INF] Application is shutting down...
2022-09-04 17:13:26.849 -05:00 [DBG] Hosting stopping
2022-09-04 17:13:26.860 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK" disconnecting.
2022-09-04 17:13:26.862 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK" stopped.
2022-09-04 17:13:26.862 -05:00 [DBG] Connection id "0HMKEOAJ9L4NK" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:13:26.867 -05:00 [DBG] Hosting stopped
2022-09-04 17:13:33.517 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:13:33.597 -05:00 [DBG] Hosting starting
2022-09-04 17:13:33.795 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:13:33.883 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:13:33.884 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:13:33.884 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:13:33.884 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:13:33.884 -05:00 [INF] Hosting environment: Development
2022-09-04 17:13:33.884 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:13:33.884 -05:00 [DBG] Hosting started
2022-09-04 17:13:37.970 -05:00 [DBG] Connection id "0HMKEOARNU05J" received FIN.
2022-09-04 17:13:37.976 -05:00 [DBG] Connection id "0HMKEOARNU05J" accepted.
2022-09-04 17:13:37.977 -05:00 [DBG] Connection id "0HMKEOARNU05J" started.
2022-09-04 17:13:37.978 -05:00 [DBG] Connection id "0HMKEOARNU05K" accepted.
2022-09-04 17:13:37.978 -05:00 [DBG] Connection id "0HMKEOARNU05K" started.
2022-09-04 17:13:37.986 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:13:38.019 -05:00 [DBG] Connection id "0HMKEOARNU05J" stopped.
2022-09-04 17:13:38.020 -05:00 [DBG] Connection id "0HMKEOARNU05J" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:13:38.024 -05:00 [DBG] Connection 0HMKEOARNU05K established using the following protocol: "Tls12"
2022-09-04 17:13:38.045 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:13:38.046 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:13:38.059 -05:00 [DBG] POST requests are not supported
2022-09-04 17:13:38.080 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:13:38.082 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:13:38.083 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:13:38.083 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:13:38.100 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:13:38.101 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:13:38.101 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:13:38.101 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:13:38.101 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:13:38.102 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:13:38.102 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:13:38.237 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:13:38.383 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:13:38.385 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:13:38.386 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:13:38.387 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:13:38.387 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:13:38.387 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:13:38.388 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:13:38.389 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:13:38.390 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:13:38.390 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:13:38.391 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:13:38.394 -05:00 [DBG] Connection id "0HMKEOARNU05K", Request id "0HMKEOARNU05K:00000002": started reading request body.
2022-09-04 17:13:38.394 -05:00 [DBG] Connection id "0HMKEOARNU05K", Request id "0HMKEOARNU05K:00000002": done reading request body.
2022-09-04 17:13:38.476 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:13:38.476 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:13:38.476 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:13:38.481 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:13:38.947 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:13:38.971 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:13:39.086 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:13:39.114 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:13:39.182 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (67ms).
2022-09-04 17:13:39.189 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:13:39.203 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:39.216 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:13:39.235 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:13:39.242 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:13:39.245 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:13:39.248 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:15:22.436 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:15:22.521 -05:00 [DBG] Hosting starting
2022-09-04 17:15:22.666 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:15:22.800 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:15:22.800 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:15:22.801 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:15:22.801 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:15:22.801 -05:00 [INF] Hosting environment: Development
2022-09-04 17:15:22.801 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:15:22.801 -05:00 [DBG] Hosting started
2022-09-04 17:15:28.064 -05:00 [DBG] Connection id "0HMKEOBSHS4JB" received FIN.
2022-09-04 17:15:28.071 -05:00 [DBG] Connection id "0HMKEOBSHS4JB" accepted.
2022-09-04 17:15:28.071 -05:00 [DBG] Connection id "0HMKEOBSHS4JB" started.
2022-09-04 17:15:28.073 -05:00 [DBG] Connection id "0HMKEOBSHS4JC" accepted.
2022-09-04 17:15:28.073 -05:00 [DBG] Connection id "0HMKEOBSHS4JC" started.
2022-09-04 17:15:28.081 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:15:28.119 -05:00 [DBG] Connection id "0HMKEOBSHS4JB" stopped.
2022-09-04 17:15:28.119 -05:00 [DBG] Connection id "0HMKEOBSHS4JB" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:15:28.123 -05:00 [DBG] Connection 0HMKEOBSHS4JC established using the following protocol: "Tls12"
2022-09-04 17:15:28.144 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:15:28.145 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:15:28.158 -05:00 [DBG] POST requests are not supported
2022-09-04 17:15:28.180 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:15:28.181 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:15:28.182 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:15:28.183 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:15:28.199 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:15:28.200 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:15:28.200 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:15:28.200 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:15:28.201 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:15:28.201 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:15:28.201 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:15:28.331 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:15:28.475 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:15:28.477 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:15:28.479 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:15:28.479 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:15:28.479 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:15:28.480 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:15:28.481 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:15:28.482 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:15:28.483 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:15:28.483 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:15:28.483 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:15:28.487 -05:00 [DBG] Connection id "0HMKEOBSHS4JC", Request id "0HMKEOBSHS4JC:00000002": started reading request body.
2022-09-04 17:15:28.488 -05:00 [DBG] Connection id "0HMKEOBSHS4JC", Request id "0HMKEOBSHS4JC:00000002": done reading request body.
2022-09-04 17:15:28.574 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:15:28.574 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:15:28.575 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:15:28.579 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:15:29.094 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:15:29.124 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:15:29.252 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:15:29.281 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:15:29.364 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (80ms).
2022-09-04 17:15:29.375 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:15:29.390 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:15:29.402 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:15:29.423 -05:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:15:29.432 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:15:29.436 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:15:29.440 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:11.300 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:16:11.412 -05:00 [DBG] Hosting starting
2022-09-04 17:16:11.495 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:16:11.508 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:16:11.508 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:16:11.508 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:16:11.508 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:16:11.508 -05:00 [INF] Hosting environment: Development
2022-09-04 17:16:11.508 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:16:11.508 -05:00 [DBG] Hosting started
2022-09-04 17:16:16.876 -05:00 [DBG] Connection id "0HMKEOCB3C8VD" received FIN.
2022-09-04 17:16:16.883 -05:00 [DBG] Connection id "0HMKEOCB3C8VD" accepted.
2022-09-04 17:16:16.884 -05:00 [DBG] Connection id "0HMKEOCB3C8VD" started.
2022-09-04 17:16:16.885 -05:00 [DBG] Connection id "0HMKEOCB3C8VE" accepted.
2022-09-04 17:16:16.885 -05:00 [DBG] Connection id "0HMKEOCB3C8VE" started.
2022-09-04 17:16:16.894 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:16:16.909 -05:00 [DBG] Connection id "0HMKEOCB3C8VD" stopped.
2022-09-04 17:16:16.911 -05:00 [DBG] Connection id "0HMKEOCB3C8VD" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:16:16.927 -05:00 [DBG] Connection 0HMKEOCB3C8VE established using the following protocol: "Tls12"
2022-09-04 17:16:16.954 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:16:16.955 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:16:16.975 -05:00 [DBG] POST requests are not supported
2022-09-04 17:16:17.003 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:16:17.007 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:16:17.007 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:16:17.007 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:16:17.031 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:16:17.032 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:16:17.032 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:16:17.032 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:16:17.032 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:16:17.032 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:16:17.033 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:16:17.178 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:16:17.378 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:16:17.381 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:16:17.383 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:16:17.383 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:16:17.384 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:16:17.384 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:16:17.384 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:16:17.386 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:16:17.387 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:16:17.388 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:16:17.388 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:16:17.392 -05:00 [DBG] Connection id "0HMKEOCB3C8VE", Request id "0HMKEOCB3C8VE:00000002": started reading request body.
2022-09-04 17:16:17.393 -05:00 [DBG] Connection id "0HMKEOCB3C8VE", Request id "0HMKEOCB3C8VE:00000002": done reading request body.
2022-09-04 17:16:17.521 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:16:17.521 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:16:17.521 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:16:17.527 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:16:18.597 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:16:18.646 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:16:18.848 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:16:18.902 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:16:18.953 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2022-09-04 17:16:18.964 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:18.988 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:16:19.002 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:16:19.033 -05:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:16:19.045 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:16:19.051 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:16:19.056 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:19.070 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:16:19.107 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:16:19.116 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:16:19.116 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:16:19.116 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:19.116 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:16:19.116 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:16:19.116 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:16:19.140 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:16:19.168 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:16:19.168 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:16:19.169 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:19.173 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:16:19.177 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:16:19.203 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:16:19.237 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:16:19.282 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:16:19.285 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:16:19.306 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:19.306 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:16:19.308 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:16:19.316 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:16:19.382 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:16:19.382 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:16:19.383 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:16:19.387 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:16:19.409 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:16:19.417 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:16:19.420 -05:00 [DBG] Committing transaction.
2022-09-04 17:16:19.422 -05:00 [DBG] Committed transaction.
2022-09-04 17:16:19.425 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:16:19.425 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:16:19.428 -05:00 [DBG] Disposing transaction.
2022-09-04 17:16:19.439 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:16:19.440 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:16:19.444 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:16:19.447 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:16:19.447 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:16:19.447 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:16:19.448 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:16:19.448 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:16:19.465 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:16:19.473 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/15 and 
2022-09-04 17:16:19.474 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/15
2022-09-04 17:16:19.552 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2514.6326ms
2022-09-04 17:16:19.553 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:16:19.553 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 17:16:19.570 -05:00 [DBG] Connection id "0HMKEOCB3C8VE" completed keep alive response.
2022-09-04 17:16:19.572 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:16:19.575 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2623.5326ms
2022-09-04 17:17:19.777 -05:00 [INF] Application is shutting down...
2022-09-04 17:17:19.778 -05:00 [DBG] Hosting stopping
2022-09-04 17:17:19.795 -05:00 [DBG] Connection id "0HMKEOCB3C8VE" disconnecting.
2022-09-04 17:17:19.796 -05:00 [DBG] Connection id "0HMKEOCB3C8VE" stopped.
2022-09-04 17:17:19.796 -05:00 [DBG] Connection id "0HMKEOCB3C8VE" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:17:19.801 -05:00 [DBG] Hosting stopped
2022-09-04 17:17:25.348 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:17:25.432 -05:00 [DBG] Hosting starting
2022-09-04 17:17:25.580 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:17:25.669 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:17:25.669 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:17:25.669 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:17:25.669 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:17:25.670 -05:00 [INF] Hosting environment: Development
2022-09-04 17:17:25.670 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:17:25.670 -05:00 [DBG] Hosting started
2022-09-04 17:17:28.226 -05:00 [DBG] Connection id "0HMKEOD0BQMLF" received FIN.
2022-09-04 17:17:28.233 -05:00 [DBG] Connection id "0HMKEOD0BQMLF" accepted.
2022-09-04 17:17:28.234 -05:00 [DBG] Connection id "0HMKEOD0BQMLF" started.
2022-09-04 17:17:28.235 -05:00 [DBG] Connection id "0HMKEOD0BQMLG" accepted.
2022-09-04 17:17:28.235 -05:00 [DBG] Connection id "0HMKEOD0BQMLG" started.
2022-09-04 17:17:28.243 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:17:28.283 -05:00 [DBG] Connection id "0HMKEOD0BQMLF" stopped.
2022-09-04 17:17:28.284 -05:00 [DBG] Connection id "0HMKEOD0BQMLF" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:17:28.287 -05:00 [DBG] Connection 0HMKEOD0BQMLG established using the following protocol: "Tls12"
2022-09-04 17:17:28.309 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:17:28.310 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:17:28.324 -05:00 [DBG] POST requests are not supported
2022-09-04 17:17:28.345 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:17:28.347 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:17:28.347 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:17:28.348 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:17:28.365 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:17:28.366 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:17:28.366 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:17:28.366 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:17:28.366 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:17:28.366 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:17:28.367 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:17:28.492 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:17:28.636 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:17:28.638 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:17:28.640 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:17:28.640 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:17:28.640 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:17:28.640 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:17:28.642 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:17:28.643 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:17:28.643 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:17:28.644 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:17:28.644 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:17:28.648 -05:00 [DBG] Connection id "0HMKEOD0BQMLG", Request id "0HMKEOD0BQMLG:00000002": started reading request body.
2022-09-04 17:17:28.648 -05:00 [DBG] Connection id "0HMKEOD0BQMLG", Request id "0HMKEOD0BQMLG:00000002": done reading request body.
2022-09-04 17:17:28.736 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:17:28.736 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:17:28.736 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:17:28.741 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:17:29.235 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:17:29.261 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:17:29.375 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:17:29.405 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:17:29.471 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2022-09-04 17:17:29.478 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:17:29.490 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:17:29.499 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:17:29.514 -05:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:17:29.521 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:17:29.524 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:17:29.527 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:21:16.615 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:21:16.641 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:21:16.648 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:21:16.648 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:21:16.648 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:21:16.648 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:21:16.648 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:21:16.649 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:21:16.661 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:21:16.674 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:21:16.674 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:21:16.674 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:21:21.529 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:21:21.532 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:21:21.548 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:21:21.569 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:21:21.587 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:21:21.589 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:21:21.598 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:21:21.599 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:21:21.600 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:21:21.603 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:21:21.635 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:21:21.635 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:21:21.635 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:21:21.637 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:21:21.648 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:21:21.651 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:21:21.653 -05:00 [DBG] Committing transaction.
2022-09-04 17:21:21.655 -05:00 [DBG] Committed transaction.
2022-09-04 17:21:21.657 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:21:21.657 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:21:21.658 -05:00 [DBG] Disposing transaction.
2022-09-04 17:21:21.664 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:21:21.665 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:22:55.613 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:22:55.709 -05:00 [DBG] Hosting starting
2022-09-04 17:22:55.782 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:22:55.796 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:22:55.796 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:22:55.796 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:22:55.796 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:22:55.797 -05:00 [INF] Hosting environment: Development
2022-09-04 17:22:55.797 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:22:55.797 -05:00 [DBG] Hosting started
2022-09-04 17:22:58.104 -05:00 [DBG] Connection id "0HMKEOG2LP9V9" received FIN.
2022-09-04 17:22:58.111 -05:00 [DBG] Connection id "0HMKEOG2LP9V9" accepted.
2022-09-04 17:22:58.111 -05:00 [DBG] Connection id "0HMKEOG2LP9V9" started.
2022-09-04 17:22:58.113 -05:00 [DBG] Connection id "0HMKEOG2LP9VA" accepted.
2022-09-04 17:22:58.113 -05:00 [DBG] Connection id "0HMKEOG2LP9VA" started.
2022-09-04 17:22:58.121 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:22:58.135 -05:00 [DBG] Connection id "0HMKEOG2LP9V9" stopped.
2022-09-04 17:22:58.137 -05:00 [DBG] Connection id "0HMKEOG2LP9V9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:22:58.153 -05:00 [DBG] Connection 0HMKEOG2LP9VA established using the following protocol: "Tls12"
2022-09-04 17:22:58.184 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:22:58.185 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:22:58.206 -05:00 [DBG] POST requests are not supported
2022-09-04 17:22:58.237 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:22:58.241 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:22:58.242 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:22:58.242 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:22:58.267 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:22:58.267 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:22:58.268 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:22:58.268 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:22:58.268 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:22:58.268 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:22:58.269 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:22:58.408 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:22:58.615 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:22:58.618 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:22:58.619 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:22:58.619 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:22:58.619 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:22:58.619 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:22:58.620 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:22:58.622 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:22:58.623 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:22:58.623 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:22:58.624 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:22:58.629 -05:00 [DBG] Connection id "0HMKEOG2LP9VA", Request id "0HMKEOG2LP9VA:00000002": started reading request body.
2022-09-04 17:22:58.629 -05:00 [DBG] Connection id "0HMKEOG2LP9VA", Request id "0HMKEOG2LP9VA:00000002": done reading request body.
2022-09-04 17:22:58.749 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:22:58.749 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:22:58.749 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:22:58.756 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:22:59.819 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:22:59.870 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:23:00.078 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:23:00.133 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:23:00.179 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2022-09-04 17:23:00.191 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:23:00.213 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:23:00.228 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:23:00.256 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:23:00.269 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:23:00.274 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:23:00.278 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:23:00.293 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:23:00.331 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:23:00.339 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:23:00.339 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:23:00.339 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:23:00.339 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:23:00.339 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:23:00.340 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:23:00.363 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:23:00.390 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:23:00.390 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:23:00.390 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:23:00.395 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:23:00.399 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:23:00.423 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:23:00.464 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:23:00.501 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:23:00.505 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:23:00.523 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:23:00.523 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:23:00.526 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:23:00.531 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:23:00.599 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:23:00.599 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:23:00.600 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:23:00.603 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:23:00.627 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:23:00.634 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:23:00.637 -05:00 [DBG] Committing transaction.
2022-09-04 17:23:00.640 -05:00 [DBG] Committed transaction.
2022-09-04 17:23:00.643 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:23:00.643 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:23:00.646 -05:00 [DBG] Disposing transaction.
2022-09-04 17:23:00.656 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:23:00.658 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:23:00.662 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:23:00.664 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:23:00.665 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:23:00.665 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:23:00.665 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:23:00.665 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:23:00.684 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:23:00.692 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/17 and 
2022-09-04 17:23:00.693 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/17
2022-09-04 17:23:00.775 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2501.5011ms
2022-09-04 17:23:00.776 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:23:00.776 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 17:23:00.785 -05:00 [DBG] Connection id "0HMKEOG2LP9VA" completed keep alive response.
2022-09-04 17:23:00.788 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:23:00.791 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2610.3877ms
2022-09-04 17:25:11.824 -05:00 [DBG] Connection id "0HMKEOG2LP9VA" disconnecting.
2022-09-04 17:25:11.826 -05:00 [DBG] Connection id "0HMKEOG2LP9VA" stopped.
2022-09-04 17:25:11.827 -05:00 [DBG] Connection id "0HMKEOG2LP9VA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:27:22.234 -05:00 [INF] Application is shutting down...
2022-09-04 17:27:22.235 -05:00 [DBG] Hosting stopping
2022-09-04 17:27:22.243 -05:00 [DBG] Hosting stopped
2022-09-04 17:27:24.995 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:27:25.099 -05:00 [DBG] Hosting starting
2022-09-04 17:27:25.174 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:27:25.187 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:27:25.187 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:27:25.187 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:27:25.188 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:27:25.188 -05:00 [INF] Hosting environment: Development
2022-09-04 17:27:25.188 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:27:25.188 -05:00 [DBG] Hosting started
2022-09-04 17:27:33.441 -05:00 [DBG] Connection id "0HMKEOIKNJOEP" received FIN.
2022-09-04 17:27:33.448 -05:00 [DBG] Connection id "0HMKEOIKNJOEP" accepted.
2022-09-04 17:27:33.449 -05:00 [DBG] Connection id "0HMKEOIKNJOEP" started.
2022-09-04 17:27:33.450 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" accepted.
2022-09-04 17:27:33.451 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" started.
2022-09-04 17:27:33.461 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:27:33.476 -05:00 [DBG] Connection id "0HMKEOIKNJOEP" stopped.
2022-09-04 17:27:33.478 -05:00 [DBG] Connection id "0HMKEOIKNJOEP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:27:33.494 -05:00 [DBG] Connection 0HMKEOIKNJOEQ established using the following protocol: "Tls12"
2022-09-04 17:27:33.529 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:33.530 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:27:33.577 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:33.606 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:33.609 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:33.610 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:33.611 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:33.627 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:33.628 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:33.628 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:33.628 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:33.629 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:33.629 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:33.629 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:33.775 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:27:33.978 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:35.071 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:35.125 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2022-09-04 17:27:35.390 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-09-04 17:27:35.438 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:35.486 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2022-09-04 17:27:35.493 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:35.516 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:35.529 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:35.553 -05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:35.579 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:35.607 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:35.608 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:35.612 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:35.617 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:35.624 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:35.644 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:35.646 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:35.646 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:35.646 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:35.647 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:35.647 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:35.805 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2169.0309ms
2022-09-04 17:27:35.806 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:35.806 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:35.810 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:35.813 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 2287.4284ms
2022-09-04 17:27:40.685 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:40.685 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:40.686 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:40.686 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:40.686 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:40.686 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:40.686 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:40.686 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:40.686 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:40.686 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:40.686 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:40.687 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:40.687 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:40.687 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:40.689 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:40.692 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:40.692 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:40.692 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:40.692 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:40.692 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:40.693 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:40.693 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:40.693 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:40.693 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:40.693 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:40.693 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:40.693 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:40.694 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:40.694 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:40.694 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:40.694 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:40.695 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:40.695 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:40.695 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 8.469ms
2022-09-04 17:27:40.695 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:40.695 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:40.695 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:40.695 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 10.8704ms
2022-09-04 17:27:41.834 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:41.834 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:41.834 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:41.834 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:41.834 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:41.835 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:41.835 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:41.835 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:41.835 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:41.835 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:41.835 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:41.835 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:41.835 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:41.837 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:41.889 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:41.890 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:41.890 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:41.890 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:41.890 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:41.890 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:41.890 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:41.890 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:41.891 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:41.891 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:41.891 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:41.891 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:41.891 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:41.891 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:41.891 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:41.891 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:41.891 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:41.891 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:41.892 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:41.892 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 56.6553ms
2022-09-04 17:27:41.892 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:41.892 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:41.892 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:41.892 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 58.6427ms
2022-09-04 17:27:42.693 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:42.693 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:42.694 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:42.694 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:42.694 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:42.694 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:42.694 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:42.694 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:42.694 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:42.694 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:42.694 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:42.694 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:42.694 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:42.695 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:42.695 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:42.695 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:42.695 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:42.696 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:42.696 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:42.696 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:42.696 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:42.696 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:42.696 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:42.696 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:42.696 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:42.696 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:42.696 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:42.697 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:42.697 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:42.697 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:42.697 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:42.697 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:42.697 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:42.697 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.682ms
2022-09-04 17:27:42.697 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:42.697 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:42.697 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:42.697 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 3.9804ms
2022-09-04 17:27:43.430 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:43.430 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:43.430 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:43.430 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:43.430 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:43.430 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:43.431 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:43.431 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:43.431 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:43.431 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:43.431 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:43.431 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:43.431 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:43.432 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:43.432 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:43.432 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:43.433 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:43.433 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:43.433 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:43.433 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:43.433 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:43.433 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:43.433 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:43.434 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:43.434 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:43.434 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:43.434 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:43.434 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:43.434 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:43.434 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:43.434 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:43.434 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:43.434 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:43.435 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3.1751ms
2022-09-04 17:27:43.435 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:43.435 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:43.435 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:43.435 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 5.1620ms
2022-09-04 17:27:44.402 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:44.402 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:44.402 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:44.402 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:44.402 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:44.402 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:44.402 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:44.403 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:44.403 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:44.403 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:44.403 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:44.403 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:44.403 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:44.403 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:44.404 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:44.404 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:44.404 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:44.404 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:44.404 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:44.404 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:44.404 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:44.404 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:44.405 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:44.405 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:44.405 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:44.405 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:44.405 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:44.405 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:44.405 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:44.405 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:44.405 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:44.405 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:44.405 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:44.405 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.5622ms
2022-09-04 17:27:44.406 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:44.406 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:44.406 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:44.406 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 3.8347ms
2022-09-04 17:27:44.929 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:44.929 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:44.929 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:44.929 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:44.930 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:44.930 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:44.930 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:44.930 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:44.930 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:44.930 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:44.930 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:44.930 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:44.930 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:44.930 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:44.931 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:44.931 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:44.931 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:44.931 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:44.931 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:44.931 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:44.931 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:44.932 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:44.932 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:44.932 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:44.932 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:44.932 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:44.932 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:44.932 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:44.932 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:44.932 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:44.932 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:44.932 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:44.933 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:44.933 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.4444ms
2022-09-04 17:27:44.933 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:44.933 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:44.933 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:44.933 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 3.8700ms
2022-09-04 17:27:45.489 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:45.489 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:45.489 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:45.489 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:45.489 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:45.489 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:45.490 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:45.490 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:45.490 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:45.490 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:45.490 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:45.490 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:45.490 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:45.490 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:45.491 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:45.491 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:45.491 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:45.491 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:45.491 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:45.491 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:45.491 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:45.491 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:45.492 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:45.492 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:45.492 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:45.492 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:45.492 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:45.492 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:45.492 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:45.492 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:45.492 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:45.492 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:45.492 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:45.492 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.4035ms
2022-09-04 17:27:45.493 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:45.493 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:45.493 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:45.493 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 3.6615ms
2022-09-04 17:27:46.042 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:46.042 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:46.042 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:46.043 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:46.043 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:46.043 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:46.043 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:46.043 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:46.043 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:46.043 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:46.043 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:46.043 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:46.043 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:46.043 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:46.044 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:46.044 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:46.044 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:46.044 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:46.044 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:46.044 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:46.045 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:46.045 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:46.045 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:46.045 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:46.045 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:46.045 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:46.045 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:46.045 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:46.045 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:46.045 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:46.045 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:46.045 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:46.046 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:46.046 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.5287ms
2022-09-04 17:27:46.046 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:46.046 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:46.046 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:46.046 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 3.7641ms
2022-09-04 17:27:46.740 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:46.740 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:46.740 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:46.740 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:46.740 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:46.740 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:46.740 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:46.740 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:46.740 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:46.740 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:46.741 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:46.741 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:46.741 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:46.741 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:46.741 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:46.742 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:46.742 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:46.742 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:46.742 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:46.742 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:46.742 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:46.743 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:46.743 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:46.743 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:46.743 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:46.743 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:46.743 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:46.743 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:46.743 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:46.743 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:46.743 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:46.743 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:46.743 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:46.744 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.7732ms
2022-09-04 17:27:46.744 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:46.744 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:46.744 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:46.744 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 4.1339ms
2022-09-04 17:27:47.298 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities - -
2022-09-04 17:27:47.298 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:27:47.298 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2022-09-04 17:27:47.298 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2022-09-04 17:27:47.298 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:47.298 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:47.298 -05:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2022-09-04 17:27:47.298 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:27:47.298 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:27:47.298 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:27:47.298 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:27:47.299 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:27:47.299 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:47.299 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2022-09-04 17:27:47.299 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:27:47.299 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:27:47.300 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:27:47.300 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:47.300 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:47.300 -05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:47.300 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2022-09-04 17:27:47.300 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:47.300 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:47.300 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:27:47.300 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:27:47.301 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:27:47.301 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:27:47.301 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:27:47.301 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:27:47.301 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:27:47.301 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:27:47.301 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:27:47.301 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:27:47.301 -05:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2.5745ms
2022-09-04 17:27:47.301 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2022-09-04 17:27:47.301 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" completed keep alive response.
2022-09-04 17:27:47.301 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:27:47.302 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities - - - 200 249 application/json;+charset=utf-8 3.9448ms
2022-09-04 17:29:58.214 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" disconnecting.
2022-09-04 17:29:58.215 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" stopped.
2022-09-04 17:29:58.215 -05:00 [DBG] Connection id "0HMKEOIKNJOEQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:43:03.966 -05:00 [DBG] Connection id "0HMKEOIKNJOER" accepted.
2022-09-04 17:43:03.967 -05:00 [DBG] Connection id "0HMKEOIKNJOER" received FIN.
2022-09-04 17:43:03.968 -05:00 [DBG] Connection id "0HMKEOIKNJOER" started.
2022-09-04 17:43:03.968 -05:00 [DBG] Connection id "0HMKEOIKNJOES" accepted.
2022-09-04 17:43:03.968 -05:00 [DBG] Connection id "0HMKEOIKNJOES" started.
2022-09-04 17:43:03.968 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:43:03.969 -05:00 [DBG] Connection id "0HMKEOIKNJOER" stopped.
2022-09-04 17:43:03.969 -05:00 [DBG] Connection id "0HMKEOIKNJOER" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:43:03.982 -05:00 [DBG] Connection 0HMKEOIKNJOES established using the following protocol: "Tls12"
2022-09-04 17:43:03.983 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/3/pointsofinterest - -
2022-09-04 17:43:03.983 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:43:03.983 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:43:03.984 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:43:03.984 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 17:43:03.984 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 17:43:04.000 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:43:04.001 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:43:04.001 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:43:04.001 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:43:04.001 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:43:04.001 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:43:04.001 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:04.002 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:04.005 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:04.007 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:43:04.008 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:04.008 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:04.008 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:04.009 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:04.016 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:43:04.022 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:43:04.055 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:43:04.073 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:04.074 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:04.079 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:04.080 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:04.084 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:04.091 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:04.093 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:04.093 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:04.094 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:04.096 -05:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2022-09-04 17:43:04.100 -05:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContext.CityInfoContext, 
    False, 
    False, 
    True
)'
2022-09-04 17:43:04.100 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:04.100 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:04.101 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:04.101 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:04.101 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 17:43:04.102 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 17:43:04.105 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.111 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.112 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:04.113 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:04.113 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:04.113 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:04.116 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:43:04.116 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:43:04.116 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:43:04.116 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:43:04.116 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:43:04.116 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:43:04.120 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 118.7734ms
2022-09-04 17:43:04.120 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 17:43:04.120 -05:00 [DBG] Connection id "0HMKEOIKNJOES" completed keep alive response.
2022-09-04 17:43:04.120 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:43:04.120 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/3/pointsofinterest - - - 200 1361 application/json;+charset=utf-8 137.1034ms
2022-09-04 17:43:11.237 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest - -
2022-09-04 17:43:11.237 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:43:11.238 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2022-09-04 17:43:11.238 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2022-09-04 17:43:11.238 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 17:43:11.238 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 17:43:11.238 -05:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:43:11.238 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:43:11.238 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:43:11.238 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:43:11.238 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:43:11.238 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:43:11.238 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:11.239 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:11.239 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:11.239 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:43:11.239 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:11.239 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:11.239 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:11.239 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:11.240 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:43:11.240 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:11.240 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:11.240 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:11.240 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:11.241 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:11.241 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:11.241 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:11.241 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:11.241 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:11.241 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:11.241 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:11.241 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:11.241 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:11.242 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 17:43:11.242 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2022-09-04 17:43:11.242 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:11.242 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:11.242 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:11.242 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:11.242 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:11.242 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:43:11.242 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:43:11.242 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:43:11.242 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:43:11.242 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:43:11.243 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-04 17:43:11.243 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 4.6421ms
2022-09-04 17:43:11.243 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2022-09-04 17:43:11.243 -05:00 [DBG] Connection id "0HMKEOIKNJOES" completed keep alive response.
2022-09-04 17:43:11.243 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:43:11.243 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest - - - 200 134 application/json;+charset=utf-8 5.8911ms
2022-09-04 17:43:17.686 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest/3 - -
2022-09-04 17:43:17.686 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:43:17.687 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/3'
2022-09-04 17:43:17.687 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/3'
2022-09-04 17:43:17.687 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)'
2022-09-04 17:43:17.687 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)'
2022-09-04 17:43:17.690 -05:00 [INF] Route matched with {action = "GetPointsOfInterestById", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterestById(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:43:17.691 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:43:17.691 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:43:17.691 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:43:17.691 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:43:17.691 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:43:17.691 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:17.691 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:17.692 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:17.692 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:43:17.692 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:17.692 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:17.692 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:17.692 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:17.692 -05:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2022-09-04 17:43:17.692 -05:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2022-09-04 17:43:17.692 -05:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2022-09-04 17:43:17.693 -05:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2022-09-04 17:43:17.693 -05:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2022-09-04 17:43:17.693 -05:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2022-09-04 17:43:17.695 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:43:17.695 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:17.695 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:17.695 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:17.695 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:17.696 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:17.696 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:17.696 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:17.696 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:17.696 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:17.699 -05:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2022-09-04 17:43:17.706 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:43:17.709 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:17.709 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:17.709 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:17.710 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:17.710 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-09-04 17:43:17.710 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-09-04 17:43:17.710 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:17.710 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:17.710 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:17.711 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:43:17.711 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:43:17.712 -05:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2022-09-04 17:43:17.712 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2022-09-04 17:43:17.712 -05:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-09-04 17:43:17.729 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) in 38.5018ms
2022-09-04 17:43:17.730 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)'
2022-09-04 17:43:17.730 -05:00 [DBG] Connection id "0HMKEOIKNJOES" completed keep alive response.
2022-09-04 17:43:17.730 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:43:17.730 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest/3 - - - 404 161 application/problem+json;+charset=utf-8 43.4178ms
2022-09-04 17:43:21.766 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest/2 - -
2022-09-04 17:43:21.766 -05:00 [DBG] The request path  does not match the path filter
2022-09-04 17:43:21.767 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2022-09-04 17:43:21.767 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2022-09-04 17:43:21.767 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)'
2022-09-04 17:43:21.767 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)'
2022-09-04 17:43:21.767 -05:00 [INF] Route matched with {action = "GetPointsOfInterestById", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointsOfInterestById(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:43:21.767 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:43:21.767 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:43:21.768 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:43:21.768 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:43:21.768 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:43:21.768 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:21.768 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:43:21.769 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:21.769 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:43:21.769 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:21.769 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:21.769 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:43:21.769 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:43:21.769 -05:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' ...
2022-09-04 17:43:21.769 -05:00 [DBG] Attempting to bind parameter 'pointofinterestId' of type 'System.Int32' using the name 'pointofinterestId' in request data ...
2022-09-04 17:43:21.770 -05:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2022-09-04 17:43:21.770 -05:00 [DBG] Done attempting to bind parameter 'pointofinterestId' of type 'System.Int32'.
2022-09-04 17:43:21.770 -05:00 [DBG] Attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32' ...
2022-09-04 17:43:21.770 -05:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestId' of type 'System.Int32'.
2022-09-04 17:43:21.771 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:43:21.771 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:21.771 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:21.771 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:21.772 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:21.772 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:21.772 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:43:21.772 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:21.772 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:21.772 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:21.773 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:43:21.773 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:43:21.773 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:21.773 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:21.773 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-09-04 17:43:21.774 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2022-09-04 17:43:21.774 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:43:21.774 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:43:21.774 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:43:21.774 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:43:21.777 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:43:21.777 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:43:21.777 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:43:21.778 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:43:21.778 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:43:21.778 -05:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-09-04 17:43:21.778 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) in 10.1008ms
2022-09-04 17:43:21.778 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)'
2022-09-04 17:43:21.778 -05:00 [DBG] Connection id "0HMKEOIKNJOES" completed keep alive response.
2022-09-04 17:43:21.778 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:43:21.779 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7211/api/cities/1/pointsofinterest/2 - - - 200 69 application/json;+charset=utf-8 12.2946ms
2022-09-04 17:45:32.722 -05:00 [DBG] Connection id "0HMKEOIKNJOES" disconnecting.
2022-09-04 17:45:32.722 -05:00 [DBG] Connection id "0HMKEOIKNJOES" stopped.
2022-09-04 17:45:32.723 -05:00 [DBG] Connection id "0HMKEOIKNJOES" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:46:02.886 -05:00 [INF] Application is shutting down...
2022-09-04 17:46:02.887 -05:00 [DBG] Hosting stopping
2022-09-04 17:46:02.895 -05:00 [DBG] Hosting stopped
2022-09-04 17:46:08.449 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:46:08.555 -05:00 [DBG] Hosting starting
2022-09-04 17:46:08.639 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:46:08.653 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:46:08.653 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:46:08.653 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:46:08.653 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:46:08.654 -05:00 [INF] Hosting environment: Development
2022-09-04 17:46:08.654 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:46:08.654 -05:00 [DBG] Hosting started
2022-09-04 17:46:14.227 -05:00 [DBG] Connection id "0HMKEOT2O89T9" received FIN.
2022-09-04 17:46:14.234 -05:00 [DBG] Connection id "0HMKEOT2O89T9" accepted.
2022-09-04 17:46:14.235 -05:00 [DBG] Connection id "0HMKEOT2O89T9" started.
2022-09-04 17:46:14.236 -05:00 [DBG] Connection id "0HMKEOT2O89TA" accepted.
2022-09-04 17:46:14.236 -05:00 [DBG] Connection id "0HMKEOT2O89TA" started.
2022-09-04 17:46:14.244 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:46:14.260 -05:00 [DBG] Connection id "0HMKEOT2O89T9" stopped.
2022-09-04 17:46:14.262 -05:00 [DBG] Connection id "0HMKEOT2O89T9" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:46:14.278 -05:00 [DBG] Connection 0HMKEOT2O89TA established using the following protocol: "Tls12"
2022-09-04 17:46:14.306 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:46:14.307 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:46:14.326 -05:00 [DBG] POST requests are not supported
2022-09-04 17:46:14.356 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:46:14.359 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:46:14.359 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:46:14.360 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:46:14.384 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:46:14.385 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:46:14.385 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:46:14.385 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:46:14.385 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:46:14.385 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:46:14.386 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:46:14.521 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:46:14.718 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:46:14.720 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:46:14.722 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:46:14.722 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:46:14.722 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:46:14.723 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:46:14.723 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:46:14.725 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:46:14.726 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:46:14.726 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:46:14.727 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:46:14.731 -05:00 [DBG] Connection id "0HMKEOT2O89TA", Request id "0HMKEOT2O89TA:00000002": started reading request body.
2022-09-04 17:46:14.731 -05:00 [DBG] Connection id "0HMKEOT2O89TA", Request id "0HMKEOT2O89TA:00000002": done reading request body.
2022-09-04 17:46:14.846 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:46:14.846 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:46:14.846 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:46:14.851 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:46:15.905 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:46:15.955 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:46:16.163 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:46:16.220 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:46:16.265 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2022-09-04 17:46:16.278 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:46:16.299 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:46:16.314 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:46:16.339 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:46:16.350 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:46:16.354 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:46:16.359 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:46:16.373 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:46:16.413 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:46:16.420 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:46:16.420 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:46:16.421 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:46:16.421 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:46:16.421 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:46:16.421 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:46:16.443 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:46:16.466 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:46:16.466 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:46:16.466 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:46:16.470 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:46:16.474 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:46:16.496 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:46:16.531 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:46:16.562 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:46:16.565 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:46:16.583 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:46:16.584 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:46:16.585 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:46:16.591 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:46:16.659 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:46:16.659 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:46:16.659 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:46:16.662 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:46:16.684 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:46:16.691 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:46:16.694 -05:00 [DBG] Committing transaction.
2022-09-04 17:46:16.697 -05:00 [DBG] Committed transaction.
2022-09-04 17:46:16.700 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:46:16.700 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:46:16.703 -05:00 [DBG] Disposing transaction.
2022-09-04 17:46:16.714 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:46:16.715 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:46:16.718 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:46:16.720 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:46:16.721 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:46:16.721 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:46:16.721 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:46:16.722 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:46:16.739 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:46:16.747 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/18 and 
2022-09-04 17:46:16.748 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/18
2022-09-04 17:46:16.827 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2437.21ms
2022-09-04 17:46:16.828 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:46:16.829 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 17:46:16.838 -05:00 [DBG] Connection id "0HMKEOT2O89TA" completed keep alive response.
2022-09-04 17:46:16.841 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:46:16.843 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2539.7217ms
2022-09-04 17:48:27.678 -05:00 [DBG] Connection id "0HMKEOT2O89TA" disconnecting.
2022-09-04 17:48:27.680 -05:00 [DBG] Connection id "0HMKEOT2O89TA" stopped.
2022-09-04 17:48:27.681 -05:00 [DBG] Connection id "0HMKEOT2O89TA" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:51:38.375 -05:00 [INF] Application is shutting down...
2022-09-04 17:51:38.377 -05:00 [DBG] Hosting stopping
2022-09-04 17:51:38.385 -05:00 [DBG] Hosting stopped
2022-09-04 17:51:41.559 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:51:41.666 -05:00 [DBG] Hosting starting
2022-09-04 17:51:41.749 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:51:41.763 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:51:41.763 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:51:41.763 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:51:41.763 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:51:41.763 -05:00 [INF] Hosting environment: Development
2022-09-04 17:51:41.764 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:51:41.764 -05:00 [DBG] Hosting started
2022-09-04 17:52:22.408 -05:00 [INF] Application is shutting down...
2022-09-04 17:52:22.409 -05:00 [DBG] Hosting stopping
2022-09-04 17:52:22.419 -05:00 [DBG] Hosting stopped
2022-09-04 17:52:24.144 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:52:24.241 -05:00 [DBG] Hosting starting
2022-09-04 17:52:24.309 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:52:24.322 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:52:24.322 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:52:24.323 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:52:24.323 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:52:24.323 -05:00 [INF] Hosting environment: Development
2022-09-04 17:52:24.323 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:52:24.323 -05:00 [DBG] Hosting started
2022-09-04 17:52:35.453 -05:00 [DBG] Connection id "0HMKEP0KBTCOJ" received FIN.
2022-09-04 17:52:35.460 -05:00 [DBG] Connection id "0HMKEP0KBTCOJ" accepted.
2022-09-04 17:52:35.461 -05:00 [DBG] Connection id "0HMKEP0KBTCOJ" started.
2022-09-04 17:52:35.463 -05:00 [DBG] Connection id "0HMKEP0KBTCOK" accepted.
2022-09-04 17:52:35.463 -05:00 [DBG] Connection id "0HMKEP0KBTCOK" started.
2022-09-04 17:52:35.471 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:52:35.485 -05:00 [DBG] Connection id "0HMKEP0KBTCOJ" stopped.
2022-09-04 17:52:35.487 -05:00 [DBG] Connection id "0HMKEP0KBTCOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:52:35.502 -05:00 [DBG] Connection 0HMKEP0KBTCOK established using the following protocol: "Tls12"
2022-09-04 17:52:35.531 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:52:35.532 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:52:35.552 -05:00 [DBG] POST requests are not supported
2022-09-04 17:52:35.583 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:52:35.587 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:52:35.588 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:52:35.589 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:52:35.613 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:52:35.613 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:52:35.613 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:52:35.614 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:52:35.614 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:52:35.614 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:52:35.614 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:52:35.751 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:52:35.950 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:52:35.952 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:52:35.954 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:52:35.954 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:52:35.954 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:52:35.954 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:52:35.955 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:52:35.957 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:52:35.958 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:52:35.959 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:52:35.959 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:52:35.963 -05:00 [DBG] Connection id "0HMKEP0KBTCOK", Request id "0HMKEP0KBTCOK:00000002": started reading request body.
2022-09-04 17:52:35.963 -05:00 [DBG] Connection id "0HMKEP0KBTCOK", Request id "0HMKEP0KBTCOK:00000002": done reading request body.
2022-09-04 17:52:36.086 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:52:36.087 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:52:36.087 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:52:36.094 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:52:37.142 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:52:37.193 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:52:37.398 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:52:37.455 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:52:37.498 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2022-09-04 17:52:37.513 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:52:37.534 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:52:37.549 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:52:37.577 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:52:37.591 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:52:37.595 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:52:37.601 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:52:37.615 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:52:37.658 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:52:37.666 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:52:37.666 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:52:37.666 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:52:37.666 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:52:37.667 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:52:37.667 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:52:37.691 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:52:37.720 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:52:37.720 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:52:37.720 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:52:37.724 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:52:37.727 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:52:37.727 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:52:37.727 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:52:37.728 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:52:37.728 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:52:37.747 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:52:37.756 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/0 and 
2022-09-04 17:52:37.757 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/0
2022-09-04 17:52:37.823 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2203.06ms
2022-09-04 17:52:37.823 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:52:37.823 -05:00 [DBG] Connection id "0HMKEP0KBTCOK" completed keep alive response.
2022-09-04 17:52:37.826 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:52:37.829 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 201 134 application/json;+charset=utf-8 2300.7054ms
2022-09-04 17:53:51.825 -05:00 [INF] Application is shutting down...
2022-09-04 17:53:51.826 -05:00 [DBG] Hosting stopping
2022-09-04 17:53:51.839 -05:00 [DBG] Connection id "0HMKEP0KBTCOK" disconnecting.
2022-09-04 17:53:51.840 -05:00 [DBG] Connection id "0HMKEP0KBTCOK" stopped.
2022-09-04 17:53:51.840 -05:00 [DBG] Connection id "0HMKEP0KBTCOK" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:53:51.845 -05:00 [DBG] Hosting stopped
2022-09-04 17:53:55.190 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:53:55.292 -05:00 [DBG] Hosting starting
2022-09-04 17:53:55.368 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:53:55.382 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:53:55.382 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:53:55.383 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:53:55.383 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:53:55.383 -05:00 [INF] Hosting environment: Development
2022-09-04 17:53:55.383 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:53:55.383 -05:00 [DBG] Hosting started
2022-09-04 17:54:01.122 -05:00 [INF] Application is shutting down...
2022-09-04 17:54:01.123 -05:00 [DBG] Hosting stopping
2022-09-04 17:54:01.139 -05:00 [DBG] Hosting stopped
2022-09-04 17:54:04.406 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:54:04.514 -05:00 [DBG] Hosting starting
2022-09-04 17:54:04.588 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:54:04.601 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:54:04.601 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:54:04.601 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:54:04.602 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:54:04.602 -05:00 [INF] Hosting environment: Development
2022-09-04 17:54:04.602 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:54:04.602 -05:00 [DBG] Hosting started
2022-09-04 17:54:09.382 -05:00 [DBG] Connection id "0HMKEP1GBM2UH" received FIN.
2022-09-04 17:54:09.389 -05:00 [DBG] Connection id "0HMKEP1GBM2UH" accepted.
2022-09-04 17:54:09.389 -05:00 [DBG] Connection id "0HMKEP1GBM2UH" started.
2022-09-04 17:54:09.391 -05:00 [DBG] Connection id "0HMKEP1GBM2UI" accepted.
2022-09-04 17:54:09.391 -05:00 [DBG] Connection id "0HMKEP1GBM2UI" started.
2022-09-04 17:54:09.399 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:54:09.413 -05:00 [DBG] Connection id "0HMKEP1GBM2UH" stopped.
2022-09-04 17:54:09.415 -05:00 [DBG] Connection id "0HMKEP1GBM2UH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:54:09.430 -05:00 [DBG] Connection 0HMKEP1GBM2UI established using the following protocol: "Tls12"
2022-09-04 17:54:09.461 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:54:09.462 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:54:09.483 -05:00 [DBG] POST requests are not supported
2022-09-04 17:54:09.514 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:54:09.517 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:54:09.518 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:54:09.518 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:54:09.543 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:54:09.544 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:54:09.544 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:54:09.544 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:54:09.544 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:54:09.544 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:54:09.544 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:54:09.684 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:54:09.888 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:54:09.891 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:54:09.892 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:54:09.893 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:54:09.893 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:54:09.893 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:54:09.894 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:54:09.896 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:54:09.897 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:54:09.898 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:54:09.898 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:54:09.903 -05:00 [DBG] Connection id "0HMKEP1GBM2UI", Request id "0HMKEP1GBM2UI:00000002": started reading request body.
2022-09-04 17:54:09.903 -05:00 [DBG] Connection id "0HMKEP1GBM2UI", Request id "0HMKEP1GBM2UI:00000002": done reading request body.
2022-09-04 17:54:10.038 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:54:10.038 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:54:10.038 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:54:10.045 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:54:11.064 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:54:11.114 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:54:11.322 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:54:11.375 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:54:11.423 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2022-09-04 17:54:11.437 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:54:11.461 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:54:11.478 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:54:11.504 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:54:11.517 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:54:11.522 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:54:11.527 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:54:11.541 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:54:11.580 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:54:11.589 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:54:11.589 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:54:11.590 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:54:11.590 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:54:11.590 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:54:11.590 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:54:11.614 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:54:11.643 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:54:11.643 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:54:11.643 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:54:11.648 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:54:11.654 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:54:11.680 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:54:11.720 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:54:11.757 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:54:11.761 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:54:11.780 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:54:11.781 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:54:11.783 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:54:11.789 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:54:11.856 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:54:11.856 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:54:11.857 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:54:11.860 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:54:11.885 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:54:11.892 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:54:11.895 -05:00 [DBG] Committing transaction.
2022-09-04 17:54:11.898 -05:00 [DBG] Committed transaction.
2022-09-04 17:54:11.901 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:54:11.901 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:54:11.904 -05:00 [DBG] Disposing transaction.
2022-09-04 17:54:11.915 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:54:11.916 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:54:11.920 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:54:11.922 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:54:11.922 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:54:11.922 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:54:11.923 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:54:11.923 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:54:11.941 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:54:11.950 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/19 and 
2022-09-04 17:54:11.950 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/19
2022-09-04 17:54:12.029 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2479.581ms
2022-09-04 17:54:12.029 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:54:12.030 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 17:54:12.038 -05:00 [DBG] Connection id "0HMKEP1GBM2UI" completed keep alive response.
2022-09-04 17:54:12.041 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:54:12.044 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2586.1891ms
2022-09-04 17:55:13.195 -05:00 [INF] Application is shutting down...
2022-09-04 17:55:13.197 -05:00 [DBG] Hosting stopping
2022-09-04 17:55:13.210 -05:00 [DBG] Connection id "0HMKEP1GBM2UI" disconnecting.
2022-09-04 17:55:13.211 -05:00 [DBG] Connection id "0HMKEP1GBM2UI" stopped.
2022-09-04 17:55:13.211 -05:00 [DBG] Connection id "0HMKEP1GBM2UI" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:55:13.216 -05:00 [DBG] Hosting stopped
2022-09-04 17:55:18.831 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:55:18.916 -05:00 [DBG] Hosting starting
2022-09-04 17:55:19.065 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:55:19.175 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:55:19.175 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:55:19.175 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:55:19.175 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:55:19.176 -05:00 [INF] Hosting environment: Development
2022-09-04 17:55:19.176 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:55:19.176 -05:00 [DBG] Hosting started
2022-09-04 17:55:23.365 -05:00 [DBG] Connection id "0HMKEP26D7SVP" received FIN.
2022-09-04 17:55:23.371 -05:00 [DBG] Connection id "0HMKEP26D7SVP" accepted.
2022-09-04 17:55:23.372 -05:00 [DBG] Connection id "0HMKEP26D7SVP" started.
2022-09-04 17:55:23.373 -05:00 [DBG] Connection id "0HMKEP26D7SVQ" accepted.
2022-09-04 17:55:23.374 -05:00 [DBG] Connection id "0HMKEP26D7SVQ" started.
2022-09-04 17:55:23.382 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:55:23.417 -05:00 [DBG] Connection id "0HMKEP26D7SVP" stopped.
2022-09-04 17:55:23.418 -05:00 [DBG] Connection id "0HMKEP26D7SVP" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:55:23.421 -05:00 [DBG] Connection 0HMKEP26D7SVQ established using the following protocol: "Tls12"
2022-09-04 17:55:23.443 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:55:23.443 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:55:23.457 -05:00 [DBG] POST requests are not supported
2022-09-04 17:55:23.478 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:55:23.479 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:55:23.480 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:55:23.480 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:55:23.497 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:55:23.498 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:55:23.498 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:55:23.498 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:55:23.499 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:55:23.499 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:55:23.499 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:55:23.626 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:55:23.760 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:55:23.762 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:55:23.763 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:55:23.764 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:55:23.764 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:55:23.764 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:55:23.765 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:55:23.766 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:55:23.766 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:55:23.767 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:55:23.767 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:55:23.772 -05:00 [DBG] Connection id "0HMKEP26D7SVQ", Request id "0HMKEP26D7SVQ:00000002": started reading request body.
2022-09-04 17:55:23.772 -05:00 [DBG] Connection id "0HMKEP26D7SVQ", Request id "0HMKEP26D7SVQ:00000002": done reading request body.
2022-09-04 17:55:23.853 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:55:23.853 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:55:23.853 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:55:23.857 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:55:24.322 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:55:24.346 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:55:24.462 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:55:24.492 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:55:24.558 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (64ms).
2022-09-04 17:55:24.565 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:55:24.577 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:55:24.586 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:55:24.602 -05:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:55:24.609 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:55:24.612 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:55:24.615 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:55:24.625 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:55:24.646 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:55:24.652 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:55:24.652 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:55:24.652 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:55:24.653 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:55:24.653 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:55:24.653 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:55:24.665 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:55:24.677 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:55:24.677 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:55:24.677 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:04.384 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 17:57:04.491 -05:00 [DBG] Hosting starting
2022-09-04 17:57:04.576 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 17:57:04.591 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 17:57:04.591 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 17:57:04.591 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 17:57:04.592 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 17:57:04.592 -05:00 [INF] Hosting environment: Development
2022-09-04 17:57:04.592 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 17:57:04.592 -05:00 [DBG] Hosting started
2022-09-04 17:57:08.206 -05:00 [DBG] Connection id "0HMKEP35L2UAT" received FIN.
2022-09-04 17:57:08.213 -05:00 [DBG] Connection id "0HMKEP35L2UAT" accepted.
2022-09-04 17:57:08.214 -05:00 [DBG] Connection id "0HMKEP35L2UAT" started.
2022-09-04 17:57:08.215 -05:00 [DBG] Connection id "0HMKEP35L2UAU" accepted.
2022-09-04 17:57:08.215 -05:00 [DBG] Connection id "0HMKEP35L2UAU" started.
2022-09-04 17:57:08.224 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 17:57:08.241 -05:00 [DBG] Connection id "0HMKEP35L2UAT" stopped.
2022-09-04 17:57:08.242 -05:00 [DBG] Connection id "0HMKEP35L2UAT" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 17:57:08.257 -05:00 [DBG] Connection 0HMKEP35L2UAU established using the following protocol: "Tls12"
2022-09-04 17:57:08.289 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 17:57:08.290 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 17:57:08.312 -05:00 [DBG] POST requests are not supported
2022-09-04 17:57:08.342 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:57:08.345 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 17:57:08.346 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:57:08.346 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:57:08.373 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 17:57:08.374 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 17:57:08.374 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 17:57:08.374 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 17:57:08.374 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 17:57:08.374 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 17:57:08.375 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:57:08.533 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 17:57:08.753 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 17:57:08.756 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:57:08.757 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 17:57:08.758 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:57:08.758 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:57:08.758 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 17:57:08.759 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 17:57:08.761 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:57:08.761 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 17:57:08.762 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 17:57:08.762 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 17:57:08.768 -05:00 [DBG] Connection id "0HMKEP35L2UAU", Request id "0HMKEP35L2UAU:00000002": started reading request body.
2022-09-04 17:57:08.768 -05:00 [DBG] Connection id "0HMKEP35L2UAU", Request id "0HMKEP35L2UAU:00000002": done reading request body.
2022-09-04 17:57:08.899 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:57:08.899 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:57:08.899 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 17:57:08.907 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 17:57:10.055 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 17:57:10.109 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 17:57:10.336 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:57:10.395 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:57:10.449 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2022-09-04 17:57:10.462 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:10.489 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:57:10.506 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:57:10.536 -05:00 [INF] Executed DbCommand (37ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 17:57:10.549 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:57:10.554 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:57:10.559 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:10.574 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 17:57:10.617 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 17:57:10.627 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:57:10.627 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:57:10.627 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:10.627 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:57:10.627 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:57:10.627 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 17:57:10.652 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:57:10.678 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:57:10.679 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:57:10.679 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:10.683 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 17:57:10.688 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 17:57:10.713 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:57:10.748 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:57:10.785 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:57:10.788 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 17:57:10.809 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:10.809 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:57:10.811 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 17:57:10.817 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 17:57:10.887 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 17:57:10.887 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 17:57:10.888 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:57:10.892 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 17:57:10.916 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 17:57:10.924 -05:00 [DBG] A data reader was disposed.
2022-09-04 17:57:10.927 -05:00 [DBG] Committing transaction.
2022-09-04 17:57:10.930 -05:00 [DBG] Committed transaction.
2022-09-04 17:57:10.933 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 17:57:10.933 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 17:57:10.936 -05:00 [DBG] Disposing transaction.
2022-09-04 17:57:10.948 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 17:57:10.949 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 17:57:10.953 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 17:57:10.956 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 17:57:10.956 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 17:57:10.956 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 17:57:10.957 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 17:57:10.957 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 17:57:10.976 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 17:57:10.985 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/20 and 
2022-09-04 17:57:10.986 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/20
2022-09-04 17:57:11.072 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2692.1564ms
2022-09-04 17:57:11.073 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 17:57:11.074 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 17:57:11.085 -05:00 [DBG] Connection id "0HMKEP35L2UAU" completed keep alive response.
2022-09-04 17:57:11.088 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 17:57:11.091 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 2805.5841ms
2022-09-04 17:59:21.570 -05:00 [DBG] Connection id "0HMKEP35L2UAU" disconnecting.
2022-09-04 17:59:21.573 -05:00 [DBG] Connection id "0HMKEP35L2UAU" stopped.
2022-09-04 17:59:21.574 -05:00 [DBG] Connection id "0HMKEP35L2UAU" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 18:01:11.302 -05:00 [DBG] Connection id "0HMKEP35L2UAV" received FIN.
2022-09-04 18:01:11.303 -05:00 [DBG] Connection id "0HMKEP35L2UAV" accepted.
2022-09-04 18:01:11.303 -05:00 [DBG] Connection id "0HMKEP35L2UAV" started.
2022-09-04 18:01:11.303 -05:00 [DBG] Connection id "0HMKEP35L2UB0" accepted.
2022-09-04 18:01:11.303 -05:00 [DBG] Connection id "0HMKEP35L2UB0" started.
2022-09-04 18:01:11.303 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 18:01:11.304 -05:00 [DBG] Connection id "0HMKEP35L2UAV" stopped.
2022-09-04 18:01:11.304 -05:00 [DBG] Connection id "0HMKEP35L2UAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 18:01:11.315 -05:00 [DBG] Connection 0HMKEP35L2UB0 established using the following protocol: "Tls12"
2022-09-04 18:01:11.315 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 18:01:11.316 -05:00 [DBG] POST requests are not supported
2022-09-04 18:01:11.316 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 18:01:11.316 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 18:01:11.317 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:01:11.317 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:01:11.317 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 18:01:11.317 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 18:01:11.317 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 18:01:11.318 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 18:01:11.318 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 18:01:11.318 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 18:01:11.318 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 18:01:11.318 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 18:01:11.318 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 18:01:11.319 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 18:01:11.319 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:01:11.319 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:01:11.319 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 18:01:11.319 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:01:11.319 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 18:01:11.319 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 18:01:11.319 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 18:01:11.319 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 18:01:11.319 -05:00 [DBG] Connection id "0HMKEP35L2UB0", Request id "0HMKEP35L2UB0:00000002": started reading request body.
2022-09-04 18:01:11.320 -05:00 [DBG] Connection id "0HMKEP35L2UB0", Request id "0HMKEP35L2UB0:00000002": done reading request body.
2022-09-04 18:01:11.320 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:01:11.320 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:01:11.320 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 18:01:11.320 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:01:11.322 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 18:01:11.325 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:01:11.326 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 18:01:11.326 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:11.326 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:11.326 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 18:01:11.326 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 18:01:11.326 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:01:11.326 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:11.326 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:11.327 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:01:11.327 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 18:01:11.327 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:11.327 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:11.327 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 18:01:11.327 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 18:01:11.328 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:01:11.328 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:01:11.328 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:11.328 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:11.328 -05:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2022-09-04 18:01:11.328 -05:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2022-09-04 18:01:11.328 -05:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:01:11.328 -05:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:01:11.329 -05:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:01:11.329 -05:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2022-09-04 18:01:11.329 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:11.329 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:11.329 -05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-09-04 18:01:11.329 -05:00 [DBG] Began transaction with isolation level 'Serializable'.
2022-09-04 18:01:11.329 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:01:11.329 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 18:01:11.330 -05:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 18:01:11.330 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointsOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2022-09-04 18:01:11.331 -05:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-09-04 18:01:11.331 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:01:11.331 -05:00 [DBG] Committing transaction.
2022-09-04 18:01:11.331 -05:00 [DBG] Committed transaction.
2022-09-04 18:01:11.331 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:11.331 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:11.332 -05:00 [DBG] Disposing transaction.
2022-09-04 18:01:11.332 -05:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:01:11.332 -05:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2022-09-04 18:01:11.332 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 18:01:11.332 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 18:01:11.332 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 18:01:11.332 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 18:01:11.332 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 18:01:11.332 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 18:01:11.333 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 18:01:11.333 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/21 and 
2022-09-04 18:01:11.333 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/21
2022-09-04 18:01:11.334 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 15.9376ms
2022-09-04 18:01:11.334 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:01:11.334 -05:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Self referencing loop detected with type 'CityInfo.API.Entities.PointOfInterest'. Path 'city.pointsOfInterest'.
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CheckForCircularReference(JsonWriter writer, Object value, JsonProperty property, JsonContract contract, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-04 18:01:11.336 -05:00 [DBG] Connection id "0HMKEP35L2UB0" completed keep alive response.
2022-09-04 18:01:11.336 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 18:01:11.336 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 20.7581ms
2022-09-04 18:01:17.695 -05:00 [INF] Application is shutting down...
2022-09-04 18:01:17.696 -05:00 [DBG] Hosting stopping
2022-09-04 18:01:17.703 -05:00 [DBG] Connection id "0HMKEP35L2UB0" disconnecting.
2022-09-04 18:01:17.703 -05:00 [DBG] Connection id "0HMKEP35L2UB0" stopped.
2022-09-04 18:01:17.703 -05:00 [DBG] Connection id "0HMKEP35L2UB0" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 18:01:17.708 -05:00 [DBG] Hosting stopped
2022-09-04 18:01:20.897 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 18:01:21.002 -05:00 [DBG] Hosting starting
2022-09-04 18:01:21.080 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 18:01:21.094 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 18:01:21.094 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 18:01:21.094 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 18:01:21.094 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 18:01:21.095 -05:00 [INF] Hosting environment: Development
2022-09-04 18:01:21.095 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 18:01:21.095 -05:00 [DBG] Hosting started
2022-09-04 18:01:25.123 -05:00 [DBG] Connection id "0HMKEP5I77LJR" received FIN.
2022-09-04 18:01:25.130 -05:00 [DBG] Connection id "0HMKEP5I77LJR" accepted.
2022-09-04 18:01:25.130 -05:00 [DBG] Connection id "0HMKEP5I77LJR" started.
2022-09-04 18:01:25.132 -05:00 [DBG] Connection id "0HMKEP5I77LJS" accepted.
2022-09-04 18:01:25.132 -05:00 [DBG] Connection id "0HMKEP5I77LJS" started.
2022-09-04 18:01:25.140 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 18:01:25.154 -05:00 [DBG] Connection id "0HMKEP5I77LJR" stopped.
2022-09-04 18:01:25.156 -05:00 [DBG] Connection id "0HMKEP5I77LJR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 18:01:25.169 -05:00 [DBG] Connection 0HMKEP5I77LJS established using the following protocol: "Tls12"
2022-09-04 18:01:25.199 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 18:01:25.200 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 18:01:25.219 -05:00 [DBG] POST requests are not supported
2022-09-04 18:01:25.248 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 18:01:25.251 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 18:01:25.252 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:01:25.252 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:01:25.277 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 18:01:25.277 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 18:01:25.277 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 18:01:25.278 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 18:01:25.278 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 18:01:25.278 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 18:01:25.278 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 18:01:25.409 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 18:01:25.602 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 18:01:25.605 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 18:01:25.606 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 18:01:25.607 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:01:25.607 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:01:25.607 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 18:01:25.608 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:01:25.610 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 18:01:25.611 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 18:01:25.612 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 18:01:25.613 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 18:01:25.617 -05:00 [DBG] Connection id "0HMKEP5I77LJS", Request id "0HMKEP5I77LJS:00000002": started reading request body.
2022-09-04 18:01:25.617 -05:00 [DBG] Connection id "0HMKEP5I77LJS", Request id "0HMKEP5I77LJS:00000002": done reading request body.
2022-09-04 18:01:25.734 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:01:25.734 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:01:25.735 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 18:01:25.740 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:01:26.760 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 18:01:26.811 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 18:01:27.012 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 18:01:27.066 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:01:27.109 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2022-09-04 18:01:27.120 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:27.142 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:27.156 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 18:01:27.185 -05:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 18:01:27.195 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:01:27.201 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:27.207 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:27.222 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 18:01:27.261 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 18:01:27.270 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:01:27.270 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 18:01:27.270 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:27.270 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:27.270 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 18:01:27.271 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 18:01:27.293 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:01:27.317 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:01:27.317 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:01:27.317 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:01:27.321 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 18:01:27.324 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 18:01:27.324 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 18:01:27.324 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 18:01:27.325 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 18:01:27.325 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Entities.PointOfInterest'.
2022-09-04 18:01:27.342 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 18:01:27.351 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/0 and 
2022-09-04 18:01:27.351 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/0
2022-09-04 18:01:27.417 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2133.1487ms
2022-09-04 18:01:27.417 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:01:27.417 -05:00 [DBG] Connection id "0HMKEP5I77LJS" completed keep alive response.
2022-09-04 18:01:27.420 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 18:01:27.424 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 201 134 application/json;+charset=utf-8 2228.5382ms
2022-09-04 18:02:44.761 -05:00 [INF] Application is shutting down...
2022-09-04 18:02:44.762 -05:00 [DBG] Hosting stopping
2022-09-04 18:02:44.778 -05:00 [DBG] Connection id "0HMKEP5I77LJS" disconnecting.
2022-09-04 18:02:44.781 -05:00 [DBG] Connection id "0HMKEP5I77LJS" stopped.
2022-09-04 18:02:44.781 -05:00 [DBG] Connection id "0HMKEP5I77LJS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 18:02:44.785 -05:00 [DBG] Hosting stopped
2022-09-04 18:02:48.024 -05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-09-04 18:02:48.125 -05:00 [DBG] Hosting starting
2022-09-04 18:02:48.202 -05:00 [DBG] Using development certificate: CN=localhost (Thumbprint: D2E2089D75509165086F631FF220AB1AC989D14A)
2022-09-04 18:02:48.216 -05:00 [INF] Now listening on: https://localhost:7211
2022-09-04 18:02:48.216 -05:00 [INF] Now listening on: http://localhost:5052
2022-09-04 18:02:48.216 -05:00 [DBG] Loaded hosting startup assembly CityInfo.API
2022-09-04 18:02:48.216 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-04 18:02:48.216 -05:00 [INF] Hosting environment: Development
2022-09-04 18:02:48.217 -05:00 [INF] Content root path: /Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/
2022-09-04 18:02:48.217 -05:00 [DBG] Hosting started
2022-09-04 18:03:14.535 -05:00 [DBG] Connection id "0HMKEP6IQLLR1" received FIN.
2022-09-04 18:03:14.542 -05:00 [DBG] Connection id "0HMKEP6IQLLR1" accepted.
2022-09-04 18:03:14.543 -05:00 [DBG] Connection id "0HMKEP6IQLLR1" started.
2022-09-04 18:03:14.544 -05:00 [DBG] Connection id "0HMKEP6IQLLR2" accepted.
2022-09-04 18:03:14.545 -05:00 [DBG] Connection id "0HMKEP6IQLLR2" started.
2022-09-04 18:03:14.553 -05:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-09-04 18:03:14.567 -05:00 [DBG] Connection id "0HMKEP6IQLLR1" stopped.
2022-09-04 18:03:14.569 -05:00 [DBG] Connection id "0HMKEP6IQLLR1" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-09-04 18:03:14.584 -05:00 [DBG] Connection 0HMKEP6IQLLR2 established using the following protocol: "Tls12"
2022-09-04 18:03:14.613 -05:00 [INF] Request starting HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117
2022-09-04 18:03:14.614 -05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-09-04 18:03:14.633 -05:00 [DBG] POST requests are not supported
2022-09-04 18:03:14.662 -05:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2022-09-04 18:03:14.665 -05:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2022-09-04 18:03:14.666 -05:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:03:14.666 -05:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:03:14.690 -05:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.CreatePointOfInterestDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2022-09-04 18:03:14.691 -05:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-09-04 18:03:14.691 -05:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-09-04 18:03:14.691 -05:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-09-04 18:03:14.691 -05:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-09-04 18:03:14.691 -05:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-09-04 18:03:14.691 -05:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 18:03:14.827 -05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-09-04 18:03:15.033 -05:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2022-09-04 18:03:15.035 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2022-09-04 18:03:15.037 -05:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2022-09-04 18:03:15.037 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:03:15.038 -05:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:03:15.038 -05:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2022-09-04 18:03:15.038 -05:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2022-09-04 18:03:15.041 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 18:03:15.041 -05:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' using the name '' in request data ...
2022-09-04 18:03:15.042 -05:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2022-09-04 18:03:15.042 -05:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2022-09-04 18:03:15.047 -05:00 [DBG] Connection id "0HMKEP6IQLLR2", Request id "0HMKEP6IQLLR2:00000002": started reading request body.
2022-09-04 18:03:15.047 -05:00 [DBG] Connection id "0HMKEP6IQLLR2", Request id "0HMKEP6IQLLR2:00000002": done reading request body.
2022-09-04 18:03:15.176 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:03:15.176 -05:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:03:15.176 -05:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto' ...
2022-09-04 18:03:15.181 -05:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.CreatePointOfInterestDto'.
2022-09-04 18:03:16.216 -05:00 [INF] Entity Framework Core 6.0.8 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.8' with options: None
2022-09-04 18:03:16.266 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2022-09-04 18:03:16.473 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 18:03:16.537 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:03:16.584 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2022-09-04 18:03:16.596 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:03:16.618 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:03:16.633 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 18:03:16.659 -05:00 [INF] Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2022-09-04 18:03:16.670 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:03:16.675 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:03:16.680 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:03:16.696 -05:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2022-09-04 18:03:16.740 -05:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContext.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2022-09-04 18:03:16.749 -05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-09-04 18:03:16.749 -05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2022-09-04 18:03:16.749 -05:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:03:16.749 -05:00 [DBG] Opened connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:03:16.749 -05:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 18:03:16.750 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2022-09-04 18:03:16.774 -05:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-09-04 18:03:16.800 -05:00 [DBG] A data reader was disposed.
2022-09-04 18:03:16.800 -05:00 [DBG] Closing connection to database 'main' on server '/Users/jordantaylor/Desktop/Development/teach-your-self-cs/Programming/web-api-fundamentals/CityInfo/CityInfo.API/CityInfo.db'.
2022-09-04 18:03:16.801 -05:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2022-09-04 18:03:16.805 -05:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2022-09-04 18:03:16.807 -05:00 [DBG] No information found on request to perform content negotiation.
2022-09-04 18:03:16.807 -05:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2022-09-04 18:03:16.807 -05:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2022-09-04 18:03:16.808 -05:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2022-09-04 18:03:16.808 -05:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2022-09-04 18:03:16.828 -05:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2022-09-04 18:03:16.837 -05:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API) resulting in /api/cities/3/pointsofinterest/0 and 
2022-09-04 18:03:16.837 -05:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterestById (CityInfo.API)"] with result /api/cities/3/pointsofinterest/0
2022-09-04 18:03:16.901 -05:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 2204.6029ms
2022-09-04 18:03:16.902 -05:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2022-09-04 18:03:16.902 -05:00 [DBG] Connection id "0HMKEP6IQLLR2" completed keep alive response.
2022-09-04 18:03:16.905 -05:00 [DBG] 'CityInfoContext' disposed.
2022-09-04 18:03:16.908 -05:00 [INF] Request finished HTTP/1.1 POST https://localhost:7211/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 2297.2421ms
2022-09-04 18:05:27.244 -05:00 [DBG] Connection id "0HMKEP6IQLLR2" disconnecting.
2022-09-04 18:05:27.246 -05:00 [DBG] Connection id "0HMKEP6IQLLR2" stopped.
2022-09-04 18:05:27.246 -05:00 [DBG] Connection id "0HMKEP6IQLLR2" sending FIN because: "The Socket transport's send loop completed gracefully."
